!function n(o,s,a){function r(i,t){if(!s[i]){if(!o[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(h)return h(i,!0);throw(e=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",e}e=s[i]={exports:{}},o[i][0].call(e.exports,function(t){return r(o[i][1][t]||t)},e,e.exports,n,o,s,a)}return s[i].exports}for(var h="function"==typeof require&&require,t=0;t<a.length;t++)r(a[t]);return r}({1:[function(t,i,e){var n;n=function(s){function a(t,i){for(var e in t)t.hasOwnProperty(e)&&i(t[e],e,t)}function r(t,i){t.children.length?t.insertBefore(i,t.children[0]):t.appendChild(i)}function t(t,i){return new e(t,i)}var e=s.Control.extend({includes:s.Mixin.Events,_getActiveLayer:function(){return this._activeLayerId?this._layers[this._activeLayerId]:function(t){var i,e=0;for(i in t)t.hasOwnProperty(i)&&e++;return e}(this._layers)?function(t){for(var i in t)if(t.hasOwnProperty(i))return t[i]}(this._layers):null},_getPreviousLayer:function(){var i=this._getActiveLayer();return i?this._previousLayerId?this._layers[this._previousLayerId]:function(t,i){if(t.length){for(var e=0;e<t.length;e++)if(i(t[e]))return t[e]}else for(var n in t)if(t.hasOwnProperty(n)&&i(t[n]))return t[n]}(this._layers,function(t){return t.id!==i.id}.bind(this))||null:null},_getInactiveLayers:function(){var i=[],e=this._getActiveLayer()?this._getActiveLayer().id:null,n=this._getPreviousLayer()?this._getPreviousLayer().id:null;return a(this._layers,function(t){t.id!==e&&t.id!==n&&i.push(t)}),i},_arrangeLayers:function(){var t={previous:function(){var t=this._getInactiveLayers();return this._getActiveLayer()&&t.unshift(this._getActiveLayer()),this._getPreviousLayer()&&t.unshift(this._getPreviousLayer()),t}};return t[this.options.behavior].apply(this,arguments)},_getLayerCellByLayerId:function(t){for(var i=this._container.getElementsByClassName("leaflet-iconLayers-layerCell"),e=0;e<i.length;e++)if(i[e].getAttribute("data-layerid")==t)return i[e]},_createLayerElement:function(t){var i,e,n,o=s.DomUtil.create("div","leaflet-iconLayers-layer");return t.title&&(i=s.DomUtil.create("div","leaflet-iconLayers-layerTitleContainer"),e=s.DomUtil.create("div","leaflet-iconLayers-layerTitle"),n=s.DomUtil.create("div","leaflet-iconLayers-layerCheckIcon"),e.innerHTML=t.title,i.appendChild(e),o.appendChild(i),o.appendChild(n)),t.icon&&o.setAttribute("style","background-image: url('"+t.icon+"')"),o},_createLayerElements:function(){for(var t,i,e=this._arrangeLayers(),n=this._getActiveLayer()&&this._getActiveLayer().id,o=0;o<e.length;o++)o%this.options.maxLayersInRow==0&&(t=s.DomUtil.create("div","leaflet-iconLayers-layersRow"),-1===this.options.position.indexOf("bottom")?this._container.appendChild(t):r(this._container,t)),(i=s.DomUtil.create("div","leaflet-iconLayers-layerCell")).setAttribute("data-layerid",e[o].id),0!==o&&s.DomUtil.addClass(i,"leaflet-iconLayers-layerCell_hidden"),e[o].id===n&&s.DomUtil.addClass(i,"leaflet-iconLayers-layerCell_active"),"left"===this._expandDirection?s.DomUtil.addClass(i,"leaflet-iconLayers-layerCell_expandLeft"):s.DomUtil.addClass(i,"leaflet-iconLayers-layerCell_expandRight"),i.appendChild(this._createLayerElement(e[o])),-1===this.options.position.indexOf("right")?t.appendChild(i):r(t,i)},_onLayerClick:function(t){t.stopPropagation();t=t.currentTarget.getAttribute("data-layerid"),t=this._layers[t];this.setActiveLayer(t.layer),this.expand()},_attachEvents:function(){a(this._layers,function(t){t=this._getLayerCellByLayerId(t.id);t&&t.addEventListener("click",this._onLayerClick.bind(this))}.bind(this));function t(t){t.stopPropagation()}for(var i=this._container.getElementsByClassName("leaflet-iconLayers-layersRow"),e=function(t){t.stopPropagation(),this.expand()}.bind(this),n=function(t){t.stopPropagation(),this.collapse()}.bind(this),o=0;o<i.length;o++){var s=i[o];s.addEventListener("mouseenter",e),s.addEventListener("mouseleave",n),s.addEventListener("mousemove",t)}},_render:function(){this._container.innerHTML="",this._createLayerElements(),this._attachEvents()},_switchMapLayers:function(){var t,i;this._map&&(t=this._getActiveLayer(),(i=this._getPreviousLayer())?this._map.removeLayer(i.layer):a(this._layers,function(t){t=t.layer;this._map.removeLayer(t)}.bind(this)),t&&this._map.addLayer(t.layer))},options:{position:"bottomleft",behavior:"previous",expand:"horizontal",autoZIndex:!0,maxLayersInRow:5,manageLayers:!0},initialize:function(t,i){s.Util.isArray(arguments[0])||(i=t,t=[]),s.setOptions(this,i),this._expandDirection=-1!=this.options.position.indexOf("left")?"right":"left",this.options.manageLayers&&this.on("activelayerchange",this._switchMapLayers,this),this.setLayers(t)},onAdd:function(t){return this._container=s.DomUtil.create("div","leaflet-iconLayers"),s.DomUtil.addClass(this._container,"leaflet-iconLayers_"+this.options.position),this._render(),t.on("click",this.collapse,this),this.options.manageLayers&&this._switchMapLayers(),this._container},onRemove:function(t){t.off("click",this.collapse,this)},setLayers:function(t){this._layers={},t.map(function(t){var i=s.stamp(t.layer);this._layers[i]=s.extend(t,{id:i})}.bind(this)),this._container&&this._render()},setActiveLayer:function(t){var i=t&&this._layers[s.stamp(t)];i&&i.id!==this._activeLayerId&&(this._previousLayerId=this._activeLayerId,this._activeLayerId=i.id,this._container&&this._render(),this.fire("activelayerchange",{layer:t}))},expand:function(){this._arrangeLayers().slice(1).map(function(t){t=this._getLayerCellByLayerId(t.id);s.DomUtil.removeClass(t,"leaflet-iconLayers-layerCell_hidden")}.bind(this))},collapse:function(){this._arrangeLayers().slice(1).map(function(t){t=this._getLayerCellByLayerId(t.id);s.DomUtil.addClass(t,"leaflet-iconLayers-layerCell_hidden")}.bind(this))}});return t.Constructor=e,t},void 0!==i&&i.exports?i.exports=n(t("leaflet")):(window.L.control.iconLayers=n(window.L),window.L.Control.IconLayers=window.L.control.iconLayers.Constructor)},{leaflet:2}],2:[function(t,B,i){!function(o,d,a){var i,e,n,s,r,t=o.L,_={};function h(t){for(var i,e=["webkit","moz","o","ms"],n=0;n<e.length&&!i;n++)i=o[e[n]+t];return i}function l(t){var i=+new Date,e=Math.max(0,16-(i-n));return n=i+e,o.setTimeout(t,e)}_.version="0.7.7","object"==typeof B&&"object"==typeof B.exports?B.exports=_:"function"==typeof define&&define.amd&&define(_),_.noConflict=function(){return o.L=t,this},(o.L=_).Util={extend:function(t){for(var i,e,n=Array.prototype.slice.call(arguments,1),o=0,s=n.length;o<s;o++)for(i in e=n[o]||{})e.hasOwnProperty(i)&&(t[i]=e[i]);return t},bind:function(t,i){var e=2<arguments.length?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(i,e||arguments)}},stamp:(i=0,e="_leaflet_id",function(t){return t[e]=t[e]||++i,t[e]}),invokeEach:function(t,i,e){var n,o;if("object"!=typeof t)return!1;for(n in o=Array.prototype.slice.call(arguments,3),t)i.apply(e,[n,t[n]].concat(o));return!0},limitExecByInterval:function(e,n,o){var s,a;return function t(){var i=arguments;s?a=!0:(s=!0,setTimeout(function(){s=!1,a&&(t.apply(o,i),a=!1)},n),e.apply(o,i))}},falseFn:function(){return!1},formatNum:function(t,i){i=Math.pow(10,i||5);return Math.round(t*i)/i},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return _.Util.trim(t).split(/\s+/)},setOptions:function(t,i){return t.options=_.extend({},t.options,i),t.options},getParamString:function(t,i,e){var n,o=[];for(n in t)o.push(encodeURIComponent(e?n.toUpperCase():n)+"="+encodeURIComponent(t[n]));return(i&&-1!==i.indexOf("?")?"&":"?")+o.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,i){i=e[i];if(i===a)throw new Error("No value provided for variable "+t);return i="function"==typeof i?i(e):i})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},n=0,s=o.requestAnimationFrame||h("RequestAnimationFrame")||l,r=o.cancelAnimationFrame||h("CancelAnimationFrame")||h("CancelRequestAnimationFrame")||function(t){o.clearTimeout(t)},_.Util.requestAnimFrame=function(t,i,e,n){if(t=_.bind(t,i),!e||s!==l)return s.call(o,t,n);t()},_.Util.cancelAnimFrame=function(t){t&&r.call(o,t)},_.extend=_.Util.extend,_.bind=_.Util.bind,_.stamp=_.Util.stamp,_.setOptions=_.Util.setOptions,_.Class=function(){},_.Class.extend=function(t){function i(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()}function e(){}e.prototype=this.prototype;var n,o=new e;for(n in(o.constructor=i).prototype=o,this)this.hasOwnProperty(n)&&"prototype"!==n&&(i[n]=this[n]);t.statics&&(_.extend(i,t.statics),delete t.statics),t.includes&&(_.Util.extend.apply(null,[o].concat(t.includes)),delete t.includes),t.options&&o.options&&(t.options=_.extend({},o.options,t.options)),_.extend(o,t),o._initHooks=[];var s=this;return i.__super__=s.prototype,o.callInitHooks=function(){if(!this._initHooksCalled){s.prototype.callInitHooks&&s.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,i=o._initHooks.length;t<i;t++)o._initHooks[t].call(this)}},i},_.Class.include=function(t){_.extend(this.prototype,t)},_.Class.mergeOptions=function(t){_.extend(this.prototype.options,t)},_.Class.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),e="function"==typeof t?t:function(){this[t].apply(this,i)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(e)};var u,c,p,m,f,g,v,y,L,x,P,w,b,T,M,C,E,S="_leaflet_events";function z(t){return _.FeatureGroup.extend({initialize:function(t,i){this._layers={},this._options=i,this.setLatLngs(t)},setLatLngs:function(i){var e=0,n=i.length;for(this.eachLayer(function(t){e<n?t.setLatLngs(i[e++]):this.removeLayer(t)},this);e<n;)this.addLayer(new t(i[e++],this._options));return this},getLatLngs:function(){var i=[];return this.eachLayer(function(t){i.push(t.getLatLngs())}),i}})}_.Mixin={},_.Mixin.Events={addEventListener:function(t,i,e){if(_.Util.invokeEach(t,this.addEventListener,this,i,e))return this;for(var n,o,s,a,r=this[S]=this[S]||{},h=e&&e!==this&&_.stamp(e),l=0,u=(t=_.Util.splitWords(t)).length;l<u;l++)n={action:i,context:e||this},o=t[l],h?(s=(a=o+"_idx")+"_len",(a=r[a]=r[a]||{})[h]||(a[h]=[],r[s]=(r[s]||0)+1),a[h].push(n)):(r[o]=r[o]||[],r[o].push(n));return this},hasEventListeners:function(t){var i=this[S];return!!i&&(t in i&&0<i[t].length||t+"_idx"in i&&0<i[t+"_idx_len"])},removeEventListener:function(t,i,e){if(!this[S])return this;if(!t)return this.clearAllEventListeners();if(_.Util.invokeEach(t,this.removeEventListener,this,i,e))return this;for(var n,o,s,a,r,h,l=this[S],u=e&&e!==this&&_.stamp(e),c=0,d=(t=_.Util.splitWords(t)).length;c<d;c++)if(r=(a=(n=t[c])+"_idx")+"_len",h=l[a],i){if(o=u&&h?h[u]:l[n]){for(s=o.length-1;0<=s;s--)o[s].action!==i||e&&o[s].context!==e||(o.splice(s,1)[0].action=_.Util.falseFn);e&&h&&0===o.length&&(delete h[u],l[r]--)}}else delete l[n],delete l[a],delete l[r];return this},clearAllEventListeners:function(){return delete this[S],this},fireEvent:function(t,i){if(!this.hasEventListeners(t))return this;var e,n,o,s,a,r=_.Util.extend({},i,{type:t,target:this}),i=this[S];if(i[t])for(n=0,o=(e=i[t].slice()).length;n<o;n++)e[n].action.call(e[n].context,r);for(a in s=i[t+"_idx"])if(e=s[a].slice())for(n=0,o=e.length;n<o;n++)e[n].action.call(e[n].context,r);return this},addOneTimeEventListener:function(t,i,e){if(_.Util.invokeEach(t,this.addOneTimeEventListener,this,i,e))return this;var n=_.bind(function(){this.removeEventListener(t,i,e).removeEventListener(t,n,e)},this);return this.addEventListener(t,i,e).addEventListener(t,n,e)}},_.Mixin.Events.on=_.Mixin.Events.addEventListener,_.Mixin.Events.off=_.Mixin.Events.removeEventListener,_.Mixin.Events.once=_.Mixin.Events.addOneTimeEventListener,_.Mixin.Events.fire=_.Mixin.Events.fireEvent,u="ActiveXObject"in o,c=u&&!d.addEventListener,p=navigator.userAgent.toLowerCase(),m=-1!==p.indexOf("webkit"),f=-1!==p.indexOf("chrome"),g=-1!==p.indexOf("phantom"),v=-1!==p.indexOf("android"),y=-1!==p.search("android [23]"),L=-1!==p.indexOf("gecko"),x=typeof orientation!=a+"",P=!o.PointerEvent&&o.MSPointerEvent,w=o.PointerEvent&&o.navigator.pointerEnabled||P,D="devicePixelRatio"in o&&1<o.devicePixelRatio||"matchMedia"in o&&o.matchMedia("(min-resolution:144dpi)")&&o.matchMedia("(min-resolution:144dpi)").matches,b=d.documentElement,T=u&&"transition"in b.style,M="WebKitCSSMatrix"in o&&"m11"in new o.WebKitCSSMatrix&&!y,C="MozPerspective"in b.style,p="OTransition"in b.style,b=!o.L_DISABLE_3D&&(T||M||C||p)&&!g,g=!o.L_NO_TOUCH&&!g&&(w||"ontouchstart"in o||o.DocumentTouch&&d instanceof o.DocumentTouch),_.Browser={ie:u,ielt9:c,webkit:m,gecko:L&&!m&&!o.opera&&!u,android:v,android23:y,chrome:f,ie3d:T,webkit3d:M,gecko3d:C,opera3d:p,any3d:b,mobile:x,mobileWebkit:x&&m,mobileWebkit3d:x&&M,mobileOpera:x&&o.opera,touch:g,msPointer:P,pointer:w,retina:D},_.Point=function(t,i,e){this.x=e?Math.round(t):t,this.y=e?Math.round(i):i},_.Point.prototype={clone:function(){return new _.Point(this.x,this.y)},add:function(t){return this.clone()._add(_.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(_.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){var i=(t=_.point(t)).x-this.x,t=t.y-this.y;return Math.sqrt(i*i+t*t)},equals:function(t){return(t=_.point(t)).x===this.x&&t.y===this.y},contains:function(t){return t=_.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+_.Util.formatNum(this.x)+", "+_.Util.formatNum(this.y)+")"}},_.point=function(t,i,e){return t instanceof _.Point?t:_.Util.isArray(t)?new _.Point(t[0],t[1]):t===a||null===t?t:new _.Point(t,i,e)},_.Bounds=function(t,i){if(t)for(var e=i?[t,i]:t,n=0,o=e.length;n<o;n++)this.extend(e[n])},_.Bounds.prototype={extend:function(t){return t=_.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new _.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new _.Point(this.min.x,this.max.y)},getTopRight:function(){return new _.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,e;return(t="number"==typeof t[0]||t instanceof _.Point?_.point(t):_.bounds(t))instanceof _.Bounds?(i=t.min,e=t.max):i=e=t,i.x>=this.min.x&&e.x<=this.max.x&&i.y>=this.min.y&&e.y<=this.max.y},intersects:function(t){t=_.bounds(t);var i=this.min,e=this.max,n=t.min,o=t.max,t=o.x>=i.x&&n.x<=e.x,e=o.y>=i.y&&n.y<=e.y;return t&&e},isValid:function(){return!(!this.min||!this.max)}},_.bounds=function(t,i){return!t||t instanceof _.Bounds?t:new _.Bounds(t,i)},_.Transformation=function(t,i,e,n){this._a=t,this._b=i,this._c=e,this._d=n},_.Transformation.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return t.x=(i=i||1)*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return new _.Point((t.x/(i=i||1)-this._b)/this._a,(t.y/i-this._d)/this._c)}},_.DomUtil={get:function(t){return"string"==typeof t?d.getElementById(t):t},getStyle:function(t,i){var e=t.style[i];return"auto"===(e=(!(e=!e&&t.currentStyle?t.currentStyle[i]:e)||"auto"===e)&&d.defaultView?(t=d.defaultView.getComputedStyle(t,null))?t[i]:null:e)?null:e},getViewportOffset:function(t){var i=0,e=0,n=t,o=d.body,s=d.documentElement;do{if(i+=n.offsetTop||0,e+=n.offsetLeft||0,i+=parseInt(_.DomUtil.getStyle(n,"borderTopWidth"),10)||0,e+=parseInt(_.DomUtil.getStyle(n,"borderLeftWidth"),10)||0,h=_.DomUtil.getStyle(n,"position"),n.offsetParent===o&&"absolute"===h)break;if("fixed"===h){i+=o.scrollTop||s.scrollTop||0,e+=o.scrollLeft||s.scrollLeft||0;break}if("relative"===h&&!n.offsetLeft){var a=_.DomUtil.getStyle(n,"width"),r=_.DomUtil.getStyle(n,"max-width"),h=n.getBoundingClientRect();"none"===a&&"none"===r||(e+=h.left+n.clientLeft),i+=h.top+(o.scrollTop||s.scrollTop||0);break}}while(n=n.offsetParent);for(n=t;n!==o&&(i-=n.scrollTop||0,e-=n.scrollLeft||0,n=n.parentNode););return new _.Point(e,i)},documentIsLtr:function(){return _.DomUtil._docIsLtrCached||(_.DomUtil._docIsLtrCached=!0,_.DomUtil._docIsLtr="ltr"===_.DomUtil.getStyle(d.body,"direction")),_.DomUtil._docIsLtr},create:function(t,i,e){t=d.createElement(t);return t.className=i,e&&e.appendChild(t),t},hasClass:function(t,i){if(t.classList!==a)return t.classList.contains(i);t=_.DomUtil._getClass(t);return 0<t.length&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(t)},addClass:function(t,i){var e;if(t.classList!==a)for(var n=_.Util.splitWords(i),o=0,s=n.length;o<s;o++)t.classList.add(n[o]);else _.DomUtil.hasClass(t,i)||(e=_.DomUtil._getClass(t),_.DomUtil._setClass(t,(e?e+" ":"")+i))},removeClass:function(t,i){t.classList!==a?t.classList.remove(i):_.DomUtil._setClass(t,_.Util.trim((" "+_.DomUtil._getClass(t)+" ").replace(" "+i+" "," ")))},_setClass:function(t,i){t.className.baseVal===a?t.className=i:t.className.baseVal=i},_getClass:function(t){return t.className.baseVal===a?t.className:t.className.baseVal},setOpacity:function(t,i){if("opacity"in t.style)t.style.opacity=i;else if("filter"in t.style){var e=!1,n="DXImageTransform.Microsoft.Alpha";try{e=t.filters.item(n)}catch(t){if(1===i)return}i=Math.round(100*i),e?(e.Enabled=100!==i,e.Opacity=i):t.style.filter+=" progid:"+n+"(opacity="+i+")"}},testProp:function(t){for(var i=d.documentElement.style,e=0;e<t.length;e++)if(t[e]in i)return t[e];return!1},getTranslateString:function(t){var i=_.Browser.webkit3d;return"translate"+(i?"3d":"")+"("+t.x+"px,"+t.y+"px"+((i?",0":"")+")")},getScaleString:function(t,i){return _.DomUtil.getTranslateString(i.add(i.multiplyBy(-1*t)))+(" scale("+t+") ")},setPosition:function(t,i,e){t._leaflet_pos=i,!e&&_.Browser.any3d?t.style[_.DomUtil.TRANSFORM]=_.DomUtil.getTranslateString(i):(t.style.left=i.x+"px",t.style.top=i.y+"px")},getPosition:function(t){return t._leaflet_pos}},_.DomUtil.TRANSFORM=_.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),_.DomUtil.TRANSITION=_.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_.DomUtil.TRANSITION_END="webkitTransition"===_.DomUtil.TRANSITION||"OTransition"===_.DomUtil.TRANSITION?_.DomUtil.TRANSITION+"End":"transitionend","onselectstart"in d?_.extend(_.DomUtil,{disableTextSelection:function(){_.DomEvent.on(o,"selectstart",_.DomEvent.preventDefault)},enableTextSelection:function(){_.DomEvent.off(o,"selectstart",_.DomEvent.preventDefault)}}):(E=_.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),_.extend(_.DomUtil,{disableTextSelection:function(){var t;E&&(t=d.documentElement.style,this._userSelect=t[E],t[E]="none")},enableTextSelection:function(){E&&(d.documentElement.style[E]=this._userSelect,delete this._userSelect)}})),_.extend(_.DomUtil,{disableImageDrag:function(){_.DomEvent.on(o,"dragstart",_.DomEvent.preventDefault)},enableImageDrag:function(){_.DomEvent.off(o,"dragstart",_.DomEvent.preventDefault)}}),_.LatLng=function(t,i,e){if(t=parseFloat(t),i=parseFloat(i),isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=t,this.lng=i,e!==a&&(this.alt=parseFloat(e))},_.extend(_.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),_.LatLng.prototype={equals:function(t){return!!t&&(t=_.latLng(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=_.LatLng.MAX_MARGIN)},toString:function(t){return"LatLng("+_.Util.formatNum(this.lat,t)+", "+_.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=_.latLng(t);var i=_.LatLng.DEG_TO_RAD,e=(t.lat-this.lat)*i,n=(t.lng-this.lng)*i,o=this.lat*i,i=t.lat*i,e=Math.sin(e/2),n=Math.sin(n/2),i=e*e+n*n*Math.cos(o)*Math.cos(i);return 12756274*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))},wrap:function(t,i){var e=this.lng;return new _.LatLng(this.lat,e=(e+(i=i||180))%(i-(t=t||-180))+(e<t||e===i?i:t))}},_.latLng=function(t,i){return t instanceof _.LatLng?t:_.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new _.LatLng(t[0],t[1],t[2]):null:t===a||null===t?t:"object"==typeof t&&"lat"in t?new _.LatLng(t.lat,"lng"in t?t.lng:t.lon):i===a?null:new _.LatLng(t,i)},_.LatLngBounds=function(t,i){if(t)for(var e=i?[t,i]:t,n=0,o=e.length;n<o;n++)this.extend(e[n])},_.LatLngBounds.prototype={extend:function(t){if(!t)return this;var i=_.latLng(t);return(t=null!==i?i:_.latLngBounds(t))instanceof _.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new _.LatLng(t.lat,t.lng),this._northEast=new _.LatLng(t.lat,t.lng)):t instanceof _.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var i=this._southWest,e=this._northEast,n=Math.abs(i.lat-e.lat)*t,t=Math.abs(i.lng-e.lng)*t;return new _.LatLngBounds(new _.LatLng(i.lat-n,i.lng-t),new _.LatLng(e.lat+n,e.lng+t))},getCenter:function(){return new _.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new _.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof _.LatLng?_.latLng(t):_.latLngBounds(t);var i,e,n=this._southWest,o=this._northEast;return t instanceof _.LatLngBounds?(i=t.getSouthWest(),e=t.getNorthEast()):i=e=t,i.lat>=n.lat&&e.lat<=o.lat&&i.lng>=n.lng&&e.lng<=o.lng},intersects:function(t){t=_.latLngBounds(t);var i=this._southWest,e=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),t=o.lat>=i.lat&&n.lat<=e.lat,e=o.lng>=i.lng&&n.lng<=e.lng;return t&&e},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=_.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},_.latLngBounds=function(t,i){return!t||t instanceof _.LatLngBounds?t:new _.LatLngBounds(t,i)},_.Projection={},_.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var i=_.LatLng.DEG_TO_RAD,e=this.MAX_LATITUDE,e=Math.max(Math.min(e,t.lat),-e),t=t.lng*i,i=e*i,i=Math.log(Math.tan(Math.PI/4+i/2));return new _.Point(t,i)},unproject:function(t){var i=_.LatLng.RAD_TO_DEG,e=t.x*i,i=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*i;return new _.LatLng(i,e)}},_.Projection.LonLat={project:function(t){return new _.Point(t.lng,t.lat)},unproject:function(t){return new _.LatLng(t.y,t.x)}},_.CRS={latLngToPoint:function(t,i){t=this.projection.project(t),i=this.scale(i);return this.transformation._transform(t,i)},pointToLatLng:function(t,i){i=this.scale(i),i=this.transformation.untransform(t,i);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){t=this.scale(t);return _.point(t,t)}},_.CRS.Simple=_.extend({},_.CRS,{projection:_.Projection.LonLat,transformation:new _.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),_.CRS.EPSG3857=_.extend({},_.CRS,{code:"EPSG:3857",projection:_.Projection.SphericalMercator,transformation:new _.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){return this.projection.project(t).multiplyBy(6378137)}}),_.CRS.EPSG900913=_.extend({},_.CRS.EPSG3857,{code:"EPSG:900913"}),_.CRS.EPSG4326=_.extend({},_.CRS,{code:"EPSG:4326",projection:_.Projection.LonLat,transformation:new _.Transformation(1/360,.5,-1/360,.5)}),_.Map=_.Class.extend({includes:_.Mixin.Events,options:{crs:_.CRS.EPSG3857,fadeAnimation:_.DomUtil.TRANSITION&&!_.Browser.android23,trackResize:!0,markerZoomAnimation:_.DomUtil.TRANSITION&&_.Browser.any3d},initialize:function(t,i){i=_.setOptions(this,i),this._initContainer(t),this._initLayout(),this._onResize=_.bind(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.center&&i.zoom!==a&&this.setView(_.latLng(i.center),i.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(i.layers)},setView:function(t,i){return i=i===a?this.getZoom():i,this._resetView(_.latLng(t),this._limitZoom(i)),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,i){return this.setZoom(this._zoom+(t||1),i)},zoomOut:function(t,i){return this.setZoom(this._zoom-(t||1),i)},setZoomAround:function(t,i,e){var n=this.getZoomScale(i),o=this.getSize().divideBy(2),n=(t instanceof _.Point?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),n=this.containerPointToLatLng(o.add(n));return this.setView(n,i,{zoom:e})},fitBounds:function(t,i){i=i||{},t=t.getBounds?t.getBounds():_.latLngBounds(t);var e=_.point(i.paddingTopLeft||i.padding||[0,0]),n=_.point(i.paddingBottomRight||i.padding||[0,0]),o=this.getBoundsZoom(t,!1,e.add(n)),o=i.maxZoom?Math.min(i.maxZoom,o):o,n=n.subtract(e).divideBy(2),e=this.project(t.getSouthWest(),o),t=this.project(t.getNorthEast(),o),n=this.unproject(e.add(t).divideBy(2).add(n),o);return this.setView(n,o,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(_.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=_.latLngBounds(t),(this.options.maxBounds=t)?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,i){var e=this.getCenter(),t=this._limitCenter(e,this._zoom,t);return e.equals(t)?this:this.panTo(t,i)},addLayer:function(t){var i=_.stamp(t);return this._layers[i]||(!(this._layers[i]=t).options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[i]=t,this._updateZoomLevels()),this.options.zoomAnimation&&_.TileLayer&&t instanceof _.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t)),this},removeLayer:function(t){var i=_.stamp(t);return this._layers[i]&&(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels()),this.options.zoomAnimation&&_.TileLayer&&t instanceof _.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this))),this},hasLayer:function(t){return!!t&&_.stamp(t)in this._layers},eachLayer:function(t,i){for(var e in this._layers)t.call(i,this._layers[e]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=_.extend({animate:!1,pan:!0},!0===t?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var e=this.getSize(),n=i.divideBy(2).round(),o=e.divideBy(2).round(),o=n.subtract(o);return o.x||o.y?(t.animate&&t.pan?this.panBy(o):(t.pan&&this._rawPanBy(o),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:e})):this},addHandler:function(t,i){if(!i)return this;i=this[t]=new i(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=a}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),t=this.unproject(t.getTopRight());return new _.LatLngBounds(i,t)},getMinZoom:function(){return this.options.minZoom===a?this._layersMinZoom===a?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===a?this._layersMaxZoom===a?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,e){t=_.latLngBounds(t);var n,o=this.getMinZoom()-(i?1:0),s=this.getMaxZoom(),a=this.getSize(),r=t.getNorthWest(),h=t.getSouthEast(),l=!0;for(e=_.point(e||[0,0]);n=this.project(h,++o).subtract(this.project(r,o)).add(e),(l=i?n.x<a.x||n.y<a.y:a.contains(n))&&o<=s;);return l&&i?null:i?o:o-1},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new _.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new _.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var i=this.options.crs;return i.scale(t)/i.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,i){return i=i===a?this._zoom:i,this.options.crs.latLngToPoint(_.latLng(t),i)},unproject:function(t,i){return i=i===a?this._zoom:i,this.options.crs.pointToLatLng(_.point(t),i)},layerPointToLatLng:function(t){t=_.point(t).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(t){return this.project(_.latLng(t))._round()._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return _.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return _.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){t=this.containerPointToLayerPoint(_.point(t));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_.latLng(t)))},mouseEventToContainerPoint:function(t){return _.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){t=this._container=_.DomUtil.get(t);if(!t)throw new Error("Map container not found.");if(t._leaflet)throw new Error("Map container is already initialized.");t._leaflet=!0},_initLayout:function(){var t=this._container;_.DomUtil.addClass(t,"leaflet-container"+(_.Browser.touch?" leaflet-touch":"")+(_.Browser.retina?" leaflet-retina":"")+(_.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var i=_.DomUtil.getStyle(t,"position");"absolute"!==i&&"relative"!==i&&"fixed"!==i&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var i=" leaflet-zoom-hide";this.options.markerZoomAnimation||(_.DomUtil.addClass(t.markerPane,i),_.DomUtil.addClass(t.shadowPane,i),_.DomUtil.addClass(t.popupPane,i))},_createPane:function(t,i){return _.DomUtil.create("div",t,i||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){for(var i=0,e=(t=t?_.Util.isArray(t)?t:[t]:[]).length;i<e;i++)this.addLayer(t[i])},_resetView:function(t,i,e,n){var o=this._zoom!==i;n||(this.fire("movestart"),o&&this.fire("zoomstart")),this._zoom=i,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),e?this._initialTopLeftPoint._add(this._getMapPanePos()):_.DomUtil.setPosition(this._mapPane,new _.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;t=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!e}),t&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(o||n)&&this.fire("zoomend"),this.fire("moveend",{hard:!e})},_rawPanBy:function(t){_.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,i=1/0,e=-1/0,n=this._getZoomSpan();for(t in this._zoomBoundLayers){var o=this._zoomBoundLayers[t];isNaN(o.options.minZoom)||(i=Math.min(i,o.options.minZoom)),isNaN(o.options.maxZoom)||(e=Math.max(e,o.options.maxZoom))}t===a?this._layersMaxZoom=this._layersMinZoom=a:(this._layersMaxZoom=e,this._layersMinZoom=i),n!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){if(_.DomEvent){_.DomEvent[t=t||"on"](this._container,"click",this._onMouseClick,this);for(var i=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"],e=0,n=i.length;e<n;e++)_.DomEvent[t](this._container,i[e],this._fireMouseEvent,this);this.options.trackResize&&_.DomEvent[t](o,"resize",this._onResize,this)}},_onResize:function(){_.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=_.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||_.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){var i,e,n,o;this._loaded&&!_.DomEvent._skipped(t)&&(o="mouseenter"===(o=t.type)?"mouseover":"mouseleave"===o?"mouseout":o,this.hasEventListeners(o)&&("contextmenu"===o&&_.DomEvent.preventDefault(t),i=this.mouseEventToContainerPoint(t),e=this.containerPointToLayerPoint(i),n=this.layerPointToLatLng(e),this.fire(o,{latlng:n,layerPoint:e,containerPoint:i,originalEvent:t})))},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,this):this.on("load",t,i),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return _.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,i){var e=this.getSize()._divideBy(2);return this.project(t,i)._subtract(e)._round()},_latLngToNewLayerPoint:function(t,i,e){e=this._getNewTopLeftPoint(e,i).add(this._getMapPanePos());return this.project(t,i)._subtract(e)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,e){if(!e)return t;var n=this.project(t,i),t=this.getSize().divideBy(2),t=new _.Bounds(n.subtract(t),n.add(t)),e=this._getBoundsOffset(t,e,i);return this.unproject(n.add(e),i)},_limitOffset:function(t,i){if(!i)return t;var e=this.getPixelBounds(),e=new _.Bounds(e.min.add(t),e.max.add(t));return t.add(this._getBoundsOffset(e,i))},_getBoundsOffset:function(t,i,e){var n=this.project(i.getNorthWest(),e).subtract(t.min),e=this.project(i.getSouthEast(),e).subtract(t.max),t=this._rebound(n.x,-e.x),e=this._rebound(n.y,-e.y);return new _.Point(t,e)},_rebound:function(t,i){return 0<t+i?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),e=this.getMaxZoom();return Math.max(i,Math.min(e,t))}}),_.map=function(t,i){return new _.Map(t,i)},_.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var i=_.LatLng.DEG_TO_RAD,e=this.MAX_LATITUDE,n=Math.max(Math.min(e,t.lat),-e),o=this.R_MAJOR,e=this.R_MINOR,t=t.lng*i*o,n=n*i,i=e/o,e=Math.sqrt(1-i*i),i=e*Math.sin(n),i=Math.pow((1-i)/(1+i),.5*e),i=Math.tan(.5*(.5*Math.PI-n))/i,n=-o*Math.log(i);return new _.Point(t,n)},unproject:function(t){for(var i,e=_.LatLng.RAD_TO_DEG,n=this.R_MAJOR,o=this.R_MINOR,s=t.x*e/n,o=o/n,a=Math.sqrt(1-o*o),r=Math.exp(-t.y/n),h=Math.PI/2-2*Math.atan(r),l=15,u=.1;1e-7<Math.abs(u)&&0<--l;)i=a*Math.sin(h),h+=u=Math.PI/2-2*Math.atan(r*Math.pow((1-i)/(1+i),.5*a))-h;return new _.LatLng(h*e,s)}},_.CRS.EPSG3395=_.extend({},_.CRS,{code:"EPSG:3395",projection:_.Projection.Mercator,transformation:(D=_.Projection.Mercator.R_MAJOR,D=.5/(Math.PI*D),new _.Transformation(D,.5,-D,.5))}),_.TileLayer=_.Class.extend({includes:_.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:_.Browser.mobile,updateWhenIdle:_.Browser.mobile},initialize:function(t,i){(i=_.setOptions(this,i)).detectRetina&&_.Browser.retina&&0<i.maxZoom&&(i.tileSize=Math.floor(i.tileSize/2),i.zoomOffset++,0<i.minZoom&&i.minZoom--,this.options.maxZoom--),i.bounds&&(i.bounds=_.latLngBounds(i.bounds)),this._url=t;t=this.options.subdomains;"string"==typeof t&&(this.options.subdomains=t.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=_.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,i){return this._url=t,i||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==a&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,i){for(var e,n=t.children,o=-i(1/0,-1/0),s=0,a=n.length;s<a;s++)n[s]!==this._container&&(e=parseInt(n[s].style.zIndex,10),isNaN(e)||(o=i(o,e)));this.options.zIndex=this._container.style.zIndex=(isFinite(o)?o:0)+i(1,-1)},_updateOpacity:function(){var t,i=this._tiles;if(_.Browser.ielt9)for(t in i)_.DomUtil.setOpacity(i[t],this.options.opacity);else _.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t,i=this._map._panes.tilePane;this._container||(this._container=_.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated?(this._bgBuffer=_.DomUtil.create("div",t="leaflet-tile-container",this._container),this._tileContainer=_.DomUtil.create("div",t,this._container)):this._tileContainer=this._container,i.appendChild(this._container),this.options.opacity<1&&this._updateOpacity())},_reset:function(t){for(var i in this._tiles)this.fire("tileunload",{tile:this._tiles[i]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,i=t.getZoom()+this.options.zoomOffset,e=this.options.maxNativeZoom,n=this.options.tileSize;return n=e&&e<i?Math.round(t.getZoomScale(i)/t.getZoomScale(e)*n):n},_update:function(){var t,i,e;this._map&&(t=(e=this._map).getPixelBounds(),i=e.getZoom(),e=this._getTileSize(),i>this.options.maxZoom||i<this.options.minZoom||(e=_.bounds(t.min.divideBy(e)._floor(),t.max.divideBy(e)._floor()),this._addTilesFromCenterOut(e),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(e)))},_addTilesFromCenterOut:function(t){for(var i,e,n=[],o=t.getCenter(),s=t.min.y;s<=t.max.y;s++)for(i=t.min.x;i<=t.max.x;i++)e=new _.Point(i,s),this._tileShouldBeLoaded(e)&&n.push(e);var a=n.length;if(0!==a){n.sort(function(t,i){return t.distanceTo(o)-i.distanceTo(o)});var r=d.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=a,i=0;i<a;i++)this._addTile(n[i],r);this._tileContainer.appendChild(r)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var i=this.options;if(!i.continuousWorld){var e=this._getWrapTileNum();if(i.noWrap&&(t.x<0||t.x>=e.x)||t.y<0||t.y>=e.y)return!1}if(i.bounds){e=this._getTileSize(),t=t.multiplyBy(e),e=t.add([e,e]),t=this._map.unproject(t),e=this._map.unproject(e);if(i.continuousWorld||i.noWrap||(t=t.wrap(),e=e.wrap()),!i.bounds.intersects([t,e]))return!1}return!0},_removeOtherTiles:function(t){var i,e,n;for(n in this._tiles)e=n.split(":"),i=parseInt(e[0],10),e=parseInt(e[1],10),(i<t.min.x||i>t.max.x||e<t.min.y||e>t.max.y)&&this._removeTile(n)},_removeTile:function(t){var i=this._tiles[t];this.fire("tileunload",{tile:i,url:i.src}),this.options.reuseTiles?(_.DomUtil.removeClass(i,"leaflet-tile-loaded"),this._unusedTiles.push(i)):i.parentNode===this._tileContainer&&this._tileContainer.removeChild(i),_.Browser.android||(i.onload=null,i.src=_.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,i){var e=this._getTilePos(t),n=this._getTile();_.DomUtil.setPosition(n,e,_.Browser.chrome),this._tiles[t.x+":"+t.y]=n,this._loadTile(n,t),n.parentNode!==this._tileContainer&&i.appendChild(n)},_getZoomForUrl:function(){var t=this.options,i=this._map.getZoom();return t.zoomReverse&&(i=t.maxZoom-i),i+=t.zoomOffset,t.maxNativeZoom?Math.min(i,t.maxNativeZoom):i},_getTilePos:function(t){var i=this._map.getPixelOrigin(),e=this._getTileSize();return t.multiplyBy(e).subtract(i)},getTileUrl:function(t){return _.Util.template(this._url,_.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){return this._map.options.crs.getSize(this._map.getZoom()).divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var i=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%i.x+i.x)%i.x),this.options.tms&&(t.y=i.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){t=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[t]},_getTile:function(){if(this.options.reuseTiles&&0<this._unusedTiles.length){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=_.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=_.Util.falseFn,_.Browser.ielt9&&this.options.opacity!==a&&_.DomUtil.setOpacity(t,this.options.opacity),_.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,i){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(i),t.src=this.getTileUrl(i),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&_.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(_.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==_.Util.emptyImageUrl&&(_.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var i=t.options.errorTileUrl;i&&(this.src=i),t._tileLoaded()}}),_.tileLayer=function(t,i){return new _.TileLayer(t,i)},_.TileLayer.WMS=_.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,i){this._url=t;var e,n=_.extend({},this.defaultWmsParams),t=i.tileSize||this.options.tileSize;for(e in i.detectRetina&&_.Browser.retina?n.width=n.height=2*t:n.width=n.height=t,i)this.options.hasOwnProperty(e)||"crs"===e||(n[e]=i[e]);this.wmsParams=n,_.setOptions(this,i)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[i]=this._crs.code,_.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._map,e=this.options.tileSize,n=t.multiplyBy(e),e=n.add([e,e]),n=this._crs.project(i.unproject(n,t.z)),e=this._crs.project(i.unproject(e,t.z)),n=(1.3<=this._wmsVersion&&this._crs===_.CRS.EPSG4326?[e.y,n.x,n.y,e.x]:[n.x,e.y,e.x,n.y]).join(","),t=_.Util.template(this._url,{s:this._getSubdomain(t)});return t+_.Util.getParamString(this.wmsParams,t,!0)+"&BBOX="+n},setParams:function(t,i){return _.extend(this.wmsParams,t),i||this.redraw(),this}}),_.tileLayer.wms=function(t,i){return new _.TileLayer.WMS(t,i)},_.TileLayer.Canvas=_.TileLayer.extend({options:{async:!1},initialize:function(t){_.setOptions(this,t)},redraw:function(){for(var t in this._map&&(this._reset({hard:!0}),this._update()),this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=_.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=_.Util.falseFn,t},_loadTile:function(t,i){t._layer=this,t._tilePoint=i,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),_.tileLayer.canvas=function(t){return new _.TileLayer.Canvas(t)},_.ImageOverlay=_.Class.extend({includes:_.Mixin.Events,options:{opacity:1},initialize:function(t,i,e){this._url=t,this._bounds=_.latLngBounds(i),_.setOptions(this,e)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&_.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=_.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&_.Browser.any3d?_.DomUtil.addClass(this._image,"leaflet-zoom-animated"):_.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),_.extend(this._image,{galleryimg:"no",onselectstart:_.Util.falseFn,onmousemove:_.Util.falseFn,onload:_.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var i=this._map,e=this._image,n=i.getZoomScale(t.zoom),o=this._bounds.getNorthWest(),s=this._bounds.getSouthEast(),o=i._latLngToNewLayerPoint(o,t.zoom,t.center),t=i._latLngToNewLayerPoint(s,t.zoom,t.center)._subtract(o),t=o._add(t._multiplyBy(.5*(1-1/n)));e.style[_.DomUtil.TRANSFORM]=_.DomUtil.getTranslateString(t)+" scale("+n+") "},_reset:function(){var t=this._image,i=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),e=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(i);_.DomUtil.setPosition(t,i),t.style.width=e.x+"px",t.style.height=e.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){_.DomUtil.setOpacity(this._image,this.options.opacity)}}),_.imageOverlay=function(t,i,e){return new _.ImageOverlay(t,i,e)},_.Icon=_.Class.extend({options:{className:""},initialize:function(t){_.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var e=this._getIconUrl(t);if(e)return e=i&&"IMG"===i.tagName?this._createImg(e,i):this._createImg(e),this._setIconStyles(e,t),e;if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(t,i){var e=this.options,n=_.point(e[i+"Size"]),o="shadow"===i?_.point(e.shadowAnchor||e.iconAnchor):_.point(e.iconAnchor);!o&&n&&(o=n.divideBy(2,!0)),t.className="leaflet-marker-"+i+" "+e.className,o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),n&&(t.style.width=n.x+"px",t.style.height=n.y+"px")},_createImg:function(t,i){return(i=i||d.createElement("img")).src=t,i},_getIconUrl:function(t){return _.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),_.icon=function(t){return new _.Icon(t)},_.Icon.Default=_.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var i=t+"Url";if(this.options[i])return this.options[i];_.Browser.retina&&"icon"===t&&(t+="-2x");i=_.Icon.Default.imagePath;if(!i)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+t+".png"}}),_.Icon.Default.imagePath=function(){for(var t,i=d.getElementsByTagName("script"),e=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/,n=0,o=i.length;n<o;n++)if((t=i[n].src).match(e))return((t=t.split(e)[0])?t+"/":"")+"images"}(),_.Marker=_.Class.extend({includes:_.Mixin.Events,options:{icon:new _.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,i){_.setOptions(this,i),this._latlng=_.latLng(t)},onAdd:function(t){(this._map=t).on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=_.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,i=this._map,e=i.options.zoomAnimation&&i.options.markerZoomAnimation?"leaflet-zoom-animated":"leaflet-zoom-hide",n=t.icon.createIcon(this._icon),o=!1;n!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),_.DomUtil.addClass(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,this._initInteraction(),t.riseOnHover&&_.DomEvent.on(n,"mouseover",this._bringToFront,this).on(n,"mouseout",this._resetZIndex,this);i=t.icon.createShadow(this._shadow),n=!1;i!==this._shadow&&(this._removeShadow(),n=!0),i&&_.DomUtil.addClass(i,e),this._shadow=i,t.opacity<1&&this._updateOpacity();t=this._map._panes;o&&t.markerPane.appendChild(this._icon),i&&n&&t.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&_.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){_.DomUtil.setPosition(this._icon,t),this._shadow&&_.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,i=["dblclick","mousedown","mouseover","mouseout","contextmenu"];_.DomUtil.addClass(t,"leaflet-clickable"),_.DomEvent.on(t,"click",this._onMouseClick,this),_.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var e=0;e<i.length;e++)_.DomEvent.on(t,i[e],this._fireMouseEvent,this);_.Handler.MarkerDrag&&(this.dragging=new _.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var i=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||i)&&_.DomEvent.stopPropagation(t),i||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&_.DomEvent.preventDefault(t),"mousedown"!==t.type?_.DomEvent.stopPropagation(t):_.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){_.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&_.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),_.marker=function(t,i){return new _.Marker(t,i)},_.DivIcon=_.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var i=t&&"DIV"===t.tagName?t:d.createElement("div"),t=this.options;return!1!==t.html?i.innerHTML=t.html:i.innerHTML="",t.bgPos&&(i.style.backgroundPosition=-t.bgPos.x+"px "+-t.bgPos.y+"px"),this._setIconStyles(i,"icon"),i},createShadow:function(){return null}}),_.divIcon=function(t){return new _.DivIcon(t)},_.Map.mergeOptions({closePopupOnClick:!0}),_.Popup=_.Class.extend({includes:_.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,i){_.setOptions(this,t),this._source=i,this._animated=_.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var i=t.options.fadeAnimation;i&&_.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),i&&_.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),_.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&_.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=_.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",i=t+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),i=this._container=_.DomUtil.create("div",i);this.options.closeButton&&((e=this._closeButton=_.DomUtil.create("a",t+"-close-button",i)).href="#close",e.innerHTML="&#215;",_.DomEvent.disableClickPropagation(e),_.DomEvent.on(e,"click",this._onCloseButtonClick,this));var e=this._wrapper=_.DomUtil.create("div",t+"-content-wrapper",i);_.DomEvent.disableClickPropagation(e),this._contentNode=_.DomUtil.create("div",t+"-content",e),_.DomEvent.disableScrollPropagation(this._contentNode),_.DomEvent.on(e,"contextmenu",_.DomEvent.stopPropagation),this._tipContainer=_.DomUtil.create("div",t+"-tip-container",i),this._tip=_.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var e=t.offsetWidth,e=Math.min(e,this.options.maxWidth);e=Math.max(e,this.options.minWidth),i.width=e+1+"px",i.whiteSpace="",i.height="";var n=t.offsetHeight,o=this.options.maxHeight,e="leaflet-popup-scrolled";o&&o<n?(i.height=o+"px",_.DomUtil.addClass(t,e)):_.DomUtil.removeClass(t,e),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){var t,i,e;this._map&&(t=this._map.latLngToLayerPoint(this._latlng),i=this._animated,e=_.point(this.options.offset),i&&_.DomUtil.setPosition(this._container,t),this._containerBottom=-e.y-(i?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+e.x+(i?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px")},_zoomAnimation:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);_.DomUtil.setPosition(this._container,t)},_adjustPan:function(){var t,i,e,n,o,s,a,r;this.options.autoPan&&(t=this._map,i=this._container.offsetHeight,r=this._containerWidth,s=new _.Point(this._containerLeft,-i-this._containerBottom),this._animated&&s._add(_.DomUtil.getPosition(this._container)),e=t.layerPointToContainerPoint(s),a=_.point(this.options.autoPanPadding),n=_.point(this.options.autoPanPaddingTopLeft||a),o=_.point(this.options.autoPanPaddingBottomRight||a),s=t.getSize(),a=0,e.x+r+o.x>s.x&&(a=e.x+r-s.x+o.x),e.x-a-n.x<(r=0)&&(a=e.x-n.x),e.y+i+o.y>s.y&&(r=e.y+i-s.y+o.y),e.y-r-n.y<0&&(r=e.y-n.y),(a||r)&&t.fire("autopanstart").panBy([a,r]))},_onCloseButtonClick:function(t){this._close(),_.DomEvent.stop(t)}}),_.popup=function(t,i){return new _.Popup(t,i)},_.Map.include({openPopup:function(t,i,e){var n;return this.closePopup(),t instanceof _.Popup||(n=t,t=new _.Popup(e).setLatLng(i).setContent(n)),t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),_.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,i){var e=(e=_.point(this.options.icon.options.popupAnchor||[0,0])).add(_.Popup.prototype.options.offset);return i&&i.offset&&(e=e.add(i.offset)),i=_.extend({offset:e},i),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof _.Popup?(_.setOptions(t,i),(this._popup=t)._source=this):this._popup=new _.Popup(i,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),_.LayerGroup=_.Class.extend({initialize:function(t){var i,e;if(this._layers={},t)for(i=0,e=t.length;i<e;i++)this.addLayer(t[i])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){t=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var i,e,n=Array.prototype.slice.call(arguments,1);for(i in this._layers)(e=this._layers[i])[t]&&e[t].apply(e,n);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,i){for(var e in this._layers)t.call(i,this._layers[e]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t,i=[];for(t in this._layers)i.push(this._layers[t]);return i},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return _.stamp(t)}}),_.layerGroup=function(t){return new _.LayerGroup(t)},_.FeatureGroup=_.LayerGroup.extend({includes:_.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(_.FeatureGroup.EVENTS,this._propagateEvent,this),_.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?("off"in(t=t in this._layers?this._layers[t]:t)&&t.off(_.FeatureGroup.EVENTS,this._propagateEvent,this),_.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,i){return this._popupContent=t,this._popupOptions=i,this.invoke("bindPopup",t,i)},openPopup:function(t){for(var i in this._layers){this._layers[i].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new _.LatLngBounds;return this.eachLayer(function(t){i.extend(t instanceof _.Marker?t.getLatLng():t.getBounds())}),i},_propagateEvent:function(t){t=_.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),_.featureGroup=function(t){return new _.FeatureGroup(t)},_.Path=_.Class.extend({includes:[_.Mixin.Events],statics:{CLIP_PADDING:(D=((_.Browser.mobile?1280:2e3)/Math.max(o.outerWidth,o.outerHeight)-1)/2,Math.max(0,Math.min(.5,D)))},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){_.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,_.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return _.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),_.Map.include({_updatePathViewport:function(){var t=_.Path.CLIP_PADDING,i=this.getSize(),e=_.DomUtil.getPosition(this._mapPane).multiplyBy(-1)._subtract(i.multiplyBy(t)._round()),t=e.add(i.multiplyBy(1+2*t)._round());this._pathViewport=new _.Bounds(e,t)}}),_.Path.SVG_NS="http://www.w3.org/2000/svg",_.Browser.svg=!(!d.createElementNS||!d.createElementNS(_.Path.SVG_NS,"svg").createSVGRect),_.Path=_.Path.extend({statics:{SVG:_.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,i=this._container;return i&&t.lastChild!==i&&t.appendChild(i),this},bringToBack:function(){var t=this._map._pathRoot,i=this._container,e=t.firstChild;return i&&e!==i&&t.insertBefore(i,e),this},getPathString:function(){},_createElement:function(t){return d.createElementNS(_.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&_.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=(t=this.getPathString())||"M0 0";this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){!_.Browser.svg&&_.Browser.vml||_.DomUtil.addClass(this._path,"leaflet-clickable"),_.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],i=0;i<t.length;i++)_.DomEvent.on(this._container,t[i],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){var i,e,n;this._map&&this.hasEventListeners(t.type)&&(i=(n=this._map).mouseEventToContainerPoint(t),e=n.containerPointToLayerPoint(i),n=n.layerPointToLatLng(e),this.fire(t.type,{latlng:n,layerPoint:e,containerPoint:i,originalEvent:t}),"contextmenu"===t.type&&_.DomEvent.preventDefault(t),"mousemove"!==t.type&&_.DomEvent.stopPropagation(t))}}),_.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=_.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&_.Browser.any3d?(_.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):_.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var i=this.getZoomScale(t.zoom),t=this._getCenterOffset(t.center)._multiplyBy(-i)._add(this._pathViewport.min);this._pathRoot.style[_.DomUtil.TRANSFORM]=_.DomUtil.getTranslateString(t)+" scale("+i+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){var t,i,e,n,o;this._pathZooming||(this._updatePathViewport(),t=(n=this._pathViewport).min,i=(o=n.max).x-t.x,e=o.y-t.y,n=this._pathRoot,o=this._panes.overlayPane,_.Browser.mobileWebkit&&o.removeChild(n),_.DomUtil.setPosition(n,t),n.setAttribute("width",i),n.setAttribute("height",e),n.setAttribute("viewBox",[t.x,t.y,i,e].join(" ")),_.Browser.mobileWebkit&&o.appendChild(n))}}),_.Path.include({bindPopup:function(t,i){return t instanceof _.Popup?this._popup=t:(this._popup&&!i||(this._popup=new _.Popup(i,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),_.Browser.vml=!_.Browser.svg&&function(){try{var t=d.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(t){return!1}}(),_.Path=_.Browser.svg||!_.Browser.vml?_.Path:_.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return d.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return d.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return d.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");_.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&_.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,i=this._fill,e=this.options,n=this._container;n.stroked=e.stroke,n.filled=e.fill,e.stroke?(t||((t=this._stroke=this._createElement("stroke")).endcap="round",n.appendChild(t)),t.weight=e.weight+"px",t.color=e.color,t.opacity=e.opacity,e.dashArray?t.dashStyle=_.Util.isArray(e.dashArray)?e.dashArray.join(" "):e.dashArray.replace(/( *, *)/g," "):t.dashStyle="",e.lineCap&&(t.endcap=e.lineCap.replace("butt","flat")),e.lineJoin&&(t.joinstyle=e.lineJoin)):t&&(n.removeChild(t),this._stroke=null),e.fill?(i||(i=this._fill=this._createElement("fill"),n.appendChild(i)),i.color=e.fillColor||e.color,i.opacity=e.fillOpacity):i&&(n.removeChild(i),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),_.Map.include(_.Browser.svg||!_.Browser.vml?{}:{_initPathRoot:function(){var t;this._pathRoot||((t=this._pathRoot=d.createElement("div")).className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport())}}),_.Browser.canvas=!!d.createElement("canvas").getContext,_.Path=_.Path.SVG&&!o.L_PREFER_CANVAS||!_.Browser.canvas?_.Path:_.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return _.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!_.Path._updateRequest&&(_.Path._updateRequest=_.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){_.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,i,e,n,o;for(this._ctx.beginPath(),t=0,e=this._parts.length;t<e;t++){for(i=0,n=this._parts[t].length;i<n;i++)o=this._parts[t][i],this._ctx[(0===i?"move":"line")+"To"](o.x,o.y);this instanceof _.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){var t,i;this._checkIfEmpty()||(t=this._ctx,i=this.options,this._drawPath(),t.save(),this._updateStyle(),i.fill&&(t.globalAlpha=i.fillOpacity,t.fill(i.fillRule||"evenodd")),i.stroke&&(t.globalAlpha=i.opacity,t.stroke()),t.restore())},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),_.Map.include(_.Path.SVG&&!o.L_PREFER_CANVAS||!_.Browser.canvas?{}:{_initPathRoot:function(){var t,i=this._pathRoot;i||((i=this._pathRoot=d.createElement("canvas")).style.position="absolute",(t=this._canvasCtx=i.getContext("2d")).lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(i),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){var t,i,e;this._pathZooming||(this._updatePathViewport(),t=(e=this._pathViewport).min,i=e.max.subtract(t),e=this._pathRoot,_.DomUtil.setPosition(e,t),e.width=i.x,e.height=i.y,e.getContext("2d").translate(-t.x,-t.y))}}),_.LineUtil={simplify:function(t,i){if(!i||!t.length)return t.slice();i*=i;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,i,e){return Math.sqrt(this._sqClosestPointOnSegment(t,i,e,!0))},closestPointOnSegment:function(t,i,e){return this._sqClosestPointOnSegment(t,i,e)},_simplifyDP:function(t,i){var e=t.length,n=new(typeof Uint8Array!=a+""?Uint8Array:Array)(e);n[0]=n[e-1]=1,this._simplifyDPStep(t,n,i,0,e-1);for(var o=[],s=0;s<e;s++)n[s]&&o.push(t[s]);return o},_simplifyDPStep:function(t,i,e,n,o){for(var s,a,r=0,h=n+1;h<=o-1;h++)r<(a=this._sqClosestPointOnSegment(t[h],t[n],t[o],!0))&&(s=h,r=a);e<r&&(i[s]=1,this._simplifyDPStep(t,i,e,n,s),this._simplifyDPStep(t,i,e,s,o))},_reducePoints:function(t,i){for(var e=[t[0]],n=1,o=0,s=t.length;n<s;n++)this._sqDist(t[n],t[o])>i&&(e.push(t[n]),o=n);return o<s-1&&e.push(t[s-1]),e},clipSegment:function(t,i,e,n){var o,s,a,r=n?this._lastCode:this._getBitCode(t,e),h=this._getBitCode(i,e);for(this._lastCode=h;;){if(!(r|h))return[t,i];if(r&h)return!1;s=this._getEdgeIntersection(t,i,o=r||h,e),a=this._getBitCode(s,e),o===r?(t=s,r=a):(i=s,h=a)}},_getEdgeIntersection:function(t,i,e,n){var o=i.x-t.x,s=i.y-t.y,i=n.min,n=n.max;return 8&e?new _.Point(t.x+o*(n.y-t.y)/s,n.y):4&e?new _.Point(t.x+o*(i.y-t.y)/s,i.y):2&e?new _.Point(n.x,t.y+s*(n.x-t.x)/o):1&e?new _.Point(i.x,t.y+s*(i.x-t.x)/o):void 0},_getBitCode:function(t,i){var e=0;return t.x<i.min.x?e|=1:t.x>i.max.x&&(e|=2),t.y<i.min.y?e|=4:t.y>i.max.y&&(e|=8),e},_sqDist:function(t,i){var e=i.x-t.x,t=i.y-t.y;return e*e+t*t},_sqClosestPointOnSegment:function(t,i,e,n){var o=i.x,s=i.y,a=e.x-o,r=e.y-s,i=a*a+r*r;return 0<i&&(1<(i=((t.x-o)*a+(t.y-s)*r)/i)?(o=e.x,s=e.y):0<i&&(o+=a*i,s+=r*i)),a=t.x-o,r=t.y-s,n?a*a+r*r:new _.Point(o,s)}},_.Polyline=_.Path.extend({initialize:function(t,i){_.Path.prototype.initialize.call(this,i),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,i=this._latlngs.length;t<i;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,i=this._parts.length,e="";t<i;t++)e+=this._getPathPartStr(this._parts[t]);return e},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(_.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var i=1/0,e=this._parts,n=null,o=0,s=e.length;o<s;o++)for(var a=e[o],r=1,h=a.length;r<h;r++){var l=a[r-1],u=a[r],c=_.LineUtil._sqClosestPointOnSegment(t,l,u,!0);c<i&&(i=c,n=_.LineUtil._sqClosestPointOnSegment(t,l,u))}return n&&(n.distance=Math.sqrt(i)),n},getBounds:function(){return new _.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,i){for(var e=i?t:[],n=0,o=t.length;n<o;n++){if(_.Util.isArray(t[n])&&"number"!=typeof t[n][0])return;e[n]=_.latLng(t[n])}return e},_initEvents:function(){_.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var i,e=_.Path.VML,n=0,o=t.length,s="";n<o;n++)i=t[n],e&&i._round(),s+=(n?"L":"M")+i.x+" "+i.y;return s},_clipPoints:function(){var t,i=this._originalPoints,e=i.length;if(this.options.noClip)this._parts=[i];else{this._parts=[];for(var n=this._parts,o=this._map._pathViewport,s=_.LineUtil,a=0,r=0;a<e-1;a++)(t=s.clipSegment(i[a],i[a+1],o,a))&&(n[r]=n[r]||[],n[r].push(t[0]),t[1]===i[a+1]&&a!==e-2||(n[r].push(t[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,i=_.LineUtil,e=0,n=t.length;e<n;e++)t[e]=i.simplify(t[e],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),_.Path.prototype._updatePath.call(this))}}),_.polyline=function(t,i){return new _.Polyline(t,i)},_.PolyUtil={},_.PolyUtil.clipPolygon=function(t,i){for(var e,n,o,s,a,r,h,l=[1,4,2,8],u=_.LineUtil,c=0,d=t.length;c<d;c++)t[c]._code=u._getBitCode(t[c],i);for(o=0;o<4;o++){for(r=l[o],e=[],c=0,n=(d=t.length)-1;c<d;n=c++)s=t[c],a=t[n],s._code&r?a._code&r||((h=u._getEdgeIntersection(a,s,r,i))._code=u._getBitCode(h,i),e.push(h)):(a._code&r&&((h=u._getEdgeIntersection(a,s,r,i))._code=u._getBitCode(h,i),e.push(h)),e.push(s));t=e}return t},_.Polygon=_.Polyline.extend({options:{fill:!0},initialize:function(t,i){_.Polyline.prototype.initialize.call(this,t,i),this._initWithHoles(t)},_initWithHoles:function(t){var i,e,n;if(t&&_.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),i=0,e=this._holes.length;i<e;i++)(n=this._holes[i]=this._convertLatLngs(this._holes[i]))[0].equals(n[n.length-1])&&n.pop();2<=(t=this._latlngs).length&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(_.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes)for(var t,i,e=0,n=this._holes.length;e<n;e++)for(this._holePoints[e]=[],t=0,i=this._holes[e].length;t<i;t++)this._holePoints[e][t]=this._map.latLngToLayerPoint(this._holes[e][t])},setLatLngs:function(t){return t&&_.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):_.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,i=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var e=0,n=this._parts.length;e<n;e++){var o=_.PolyUtil.clipPolygon(this._parts[e],this._map._pathViewport);o.length&&i.push(o)}this._parts=i}},_getPathPartStr:function(t){return _.Polyline.prototype._getPathPartStr.call(this,t)+(_.Browser.svg?"z":"x")}}),_.polygon=function(t,i){return new _.Polygon(t,i)},_.MultiPolyline=z(_.Polyline),_.MultiPolygon=z(_.Polygon),_.multiPolyline=function(t,i){return new _.MultiPolyline(t,i)},_.multiPolygon=function(t,i){return new _.MultiPolygon(t,i)},_.Rectangle=_.Polygon.extend({initialize:function(t,i){_.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=_.latLngBounds(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),_.rectangle=function(t,i){return new _.Rectangle(t,i)},_.Circle=_.Path.extend({initialize:function(t,i,e){_.Path.prototype.initialize.call(this,e),this._latlng=_.latLng(t),this._mRadius=i},options:{fill:!0},setLatLng:function(t){return this._latlng=_.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),i=this._latlng,t=this._map.latLngToLayerPoint([i.lat,i.lng-t]);this._point=this._map.latLngToLayerPoint(i),this._radius=Math.max(this._point.x-t.x,1)},getBounds:function(){var t=this._getLngRadius(),i=this._mRadius/40075017*360,e=this._latlng;return new _.LatLngBounds([e.lat-i,e.lng-t],[e.lat+i,e.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,i=this._radius;return this._checkIfEmpty()?"":_.Browser.svg?"M"+t.x+","+(t.y-i)+"A"+i+","+i+",0,1,1,"+(t.x-.1)+","+(t.y-i)+" z":(t._round(),i=Math.round(i),"AL "+t.x+","+t.y+" "+i+","+i+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(_.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,i=this._radius,e=this._point;return e.x-i>t.max.x||e.y-i>t.max.y||e.x+i<t.min.x||e.y+i<t.min.y}}),_.circle=function(t,i,e){return new _.Circle(t,i,e)},_.CircleMarker=_.Circle.extend({options:{radius:10,weight:2},initialize:function(t,i){_.Circle.prototype.initialize.call(this,t,null,i),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){_.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return _.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),_.circleMarker=function(t,i){return new _.CircleMarker(t,i)},_.Polyline.include(_.Path.CANVAS?{_containsPoint:function(t,i){var e,n,o,s,a,r,h=this.options.weight/2;for(_.Browser.touch&&(h+=10),e=0,s=this._parts.length;e<s;e++)for(n=0,o=(a=(r=this._parts[e]).length)-1;n<a;o=n++)if((i||0!==n)&&_.LineUtil.pointToSegmentDistance(t,r[o],r[n])<=h)return!0;return!1}}:{}),_.Polygon.include(_.Path.CANVAS?{_containsPoint:function(t){var i,e,n,o,s,a,r,h,l=!1;if(_.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(o=0,r=this._parts.length;o<r;o++)for(s=0,a=(h=(i=this._parts[o]).length)-1;s<h;a=s++)e=i[s],n=i[a],e.y>t.y!=n.y>t.y&&t.x<(n.x-e.x)*(t.y-e.y)/(n.y-e.y)+e.x&&(l=!l);return l}}:{}),_.Circle.include(_.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var i=this._point,e=this.options.stroke?this.options.weight/2:0;return t.distanceTo(i)<=this._radius+e}}:{}),_.CircleMarker.include(_.Path.CANVAS?{_updateStyle:function(){_.Path.prototype._updateStyle.call(this)}}:{}),_.GeoJSON=_.FeatureGroup.extend({initialize:function(t,i){_.setOptions(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i,e,n,o=_.Util.isArray(t)?t:t.features;if(o){for(i=0,e=o.length;i<e;i++)((n=o[i]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(o[i]);return this}var s=this.options;if(!s.filter||s.filter(t)){var a=_.GeoJSON.geometryToLayer(t,s.pointToLayer,s.coordsToLatLng,s);return a.feature=_.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)}},resetStyle:function(t){var i=this.options.style;i&&(_.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,i))},setStyle:function(i){this.eachLayer(function(t){this._setLayerStyle(t,i)},this)},_setLayerStyle:function(t,i){"function"==typeof i&&(i=i(t.feature)),t.setStyle&&t.setStyle(i)}}),_.extend(_.GeoJSON,{geometryToLayer:function(t,i,e,n){var o,s,a,r,h="Feature"===t.type?t.geometry:t,l=h.coordinates,u=[];switch(e=e||this.coordsToLatLng,h.type){case"Point":return o=e(l),i?i(t,o):new _.Marker(o);case"MultiPoint":for(a=0,r=l.length;a<r;a++)o=e(l[a]),u.push(i?i(t,o):new _.Marker(o));return new _.FeatureGroup(u);case"LineString":return s=this.coordsToLatLngs(l,0,e),new _.Polyline(s,n);case"Polygon":if(2===l.length&&!l[1].length)throw new Error("Invalid GeoJSON object.");return s=this.coordsToLatLngs(l,1,e),new _.Polygon(s,n);case"MultiLineString":return s=this.coordsToLatLngs(l,1,e),new _.MultiPolyline(s,n);case"MultiPolygon":return s=this.coordsToLatLngs(l,2,e),new _.MultiPolygon(s,n);case"GeometryCollection":for(a=0,r=h.geometries.length;a<r;a++)u.push(this.geometryToLayer({geometry:h.geometries[a],type:"Feature",properties:t.properties},i,e,n));return new _.FeatureGroup(u);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new _.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,i,e){for(var n,o=[],s=0,a=t.length;s<a;s++)n=i?this.coordsToLatLngs(t[s],i-1,e):(e||this.coordsToLatLng)(t[s]),o.push(n);return o},latLngToCoords:function(t){var i=[t.lng,t.lat];return t.alt!==a&&i.push(t.alt),i},latLngsToCoords:function(t){for(var i=[],e=0,n=t.length;e<n;e++)i.push(_.GeoJSON.latLngToCoords(t[e]));return i},getFeature:function(t,i){return t.feature?_.extend({},t.feature,{geometry:i}):_.GeoJSON.asFeature(i)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var D={toGeoJSON:function(){return _.GeoJSON.getFeature(this,{type:"Point",coordinates:_.GeoJSON.latLngToCoords(this.getLatLng())})}};function k(t){return function(){var i=[];return this.eachLayer(function(t){i.push(t.toGeoJSON().geometry.coordinates)}),_.GeoJSON.getFeature(this,{type:t,coordinates:i})}}_.Marker.include(D),_.Circle.include(D),_.CircleMarker.include(D),_.Polyline.include({toGeoJSON:function(){return _.GeoJSON.getFeature(this,{type:"LineString",coordinates:_.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),_.Polygon.include({toGeoJSON:function(){var t,i,e,n=[_.GeoJSON.latLngsToCoords(this.getLatLngs())];if(n[0].push(n[0][0]),this._holes)for(t=0,i=this._holes.length;t<i;t++)(e=_.GeoJSON.latLngsToCoords(this._holes[t])).push(e[0]),n.push(e);return _.GeoJSON.getFeature(this,{type:"Polygon",coordinates:n})}}),_.MultiPolyline.include({toGeoJSON:k("MultiLineString")}),_.MultiPolygon.include({toGeoJSON:k("MultiPolygon")}),_.LayerGroup.include({toGeoJSON:function(){var i,t=this.feature&&this.feature.geometry,e=[];if(t&&"MultiPoint"===t.type)return k("MultiPoint").call(this);var n=t&&"GeometryCollection"===t.type;return this.eachLayer(function(t){t.toGeoJSON&&(i=t.toGeoJSON(),e.push(n?i.geometry:_.GeoJSON.asFeature(i)))}),n?_.GeoJSON.getFeature(this,{geometries:e,type:"GeometryCollection"}):{type:"FeatureCollection",features:e}}}),_.geoJson=function(t,i){return new _.GeoJSON(t,i)},_.DomEvent={addListener:function(i,t,e,n){var o,s,a=_.stamp(e),r="_leaflet_"+t+a;return i[r]?this:(o=function(t){return e.call(n||i,t||_.DomEvent._getEvent())},_.Browser.pointer&&0===t.indexOf("touch")?this.addPointerListener(i,t,o,a):(_.Browser.touch&&"dblclick"===t&&this.addDoubleTapListener&&this.addDoubleTapListener(i,o,a),"addEventListener"in i?"mousewheel"===t?(i.addEventListener("DOMMouseScroll",o,!1),i.addEventListener(t,o,!1)):"mouseenter"===t||"mouseleave"===t?(s=o,o=function(t){if(_.DomEvent._checkMouse(i,t))return s(t)},i.addEventListener("mouseenter"===t?"mouseover":"mouseout",o,!1)):("click"===t&&_.Browser.android&&(s=o,o=function(t){return _.DomEvent._filterClick(t,s)}),i.addEventListener(t,o,!1)):"attachEvent"in i&&i.attachEvent("on"+t,o),i[r]=o,this))},removeListener:function(t,i,e){var n=_.stamp(e),o="_leaflet_"+i+n,e=t[o];return e&&(_.Browser.pointer&&0===i.indexOf("touch")?this.removePointerListener(t,i,n):_.Browser.touch&&"dblclick"===i&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===i?(t.removeEventListener("DOMMouseScroll",e,!1),t.removeEventListener(i,e,!1)):"mouseenter"===i||"mouseleave"===i?t.removeEventListener("mouseenter"===i?"mouseover":"mouseout",e,!1):t.removeEventListener(i,e,!1):"detachEvent"in t&&t.detachEvent("on"+i,e),t[o]=null),this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,_.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var i=_.DomEvent.stopPropagation;return _.DomEvent.on(t,"mousewheel",i).on(t,"MozMousePixelScroll",i)},disableClickPropagation:function(t){for(var i=_.DomEvent.stopPropagation,e=_.Draggable.START.length-1;0<=e;e--)_.DomEvent.on(t,_.Draggable.START[e],i);return _.DomEvent.on(t,"click",_.DomEvent._fakeStop).on(t,"dblclick",i)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return _.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,i){if(!i)return new _.Point(t.clientX,t.clientY);var e=i.getBoundingClientRect();return new _.Point(t.clientX-e.left-i.clientLeft,t.clientY-e.top-i.clientTop)},getWheelDelta:function(t){var i=0;return t.wheelDelta&&(i=t.wheelDelta/120),i=t.detail?-t.detail/3:i},_skipEvents:{},_fakeStop:function(t){_.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var i=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,i},_checkMouse:function(t,i){var e=i.relatedTarget;if(!e)return!0;try{for(;e&&e!==t;)e=e.parentNode}catch(t){return!1}return e!==t},_getEvent:function(){var t=o.event;if(!t)for(var i=arguments.callee.caller;i&&(!(t=i.arguments[0])||o.Event!==t.constructor);)i=i.caller;return t},_filterClick:function(t,i){var e=t.timeStamp||t.originalEvent.timeStamp,n=_.DomEvent._lastClick&&e-_.DomEvent._lastClick;if(!(n&&100<n&&n<500||t.target._simulatedClick&&!t._simulated))return _.DomEvent._lastClick=e,i(t);_.DomEvent.stop(t)}},_.DomEvent.on=_.DomEvent.addListener,_.DomEvent.off=_.DomEvent.removeListener,_.Draggable=_.Class.extend({includes:_.Mixin.Events,statics:{START:_.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,i){this._element=t,this._dragStartTarget=i||t},enable:function(){if(!this._enabled){for(var t=_.Draggable.START.length-1;0<=t;t--)_.DomEvent.on(this._dragStartTarget,_.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=_.Draggable.START.length-1;0<=t;t--)_.DomEvent.off(this._dragStartTarget,_.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){var i;this._moved=!1,t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(_.DomEvent.stopPropagation(t),_.Draggable._disabled||(_.DomUtil.disableImageDrag(),_.DomUtil.disableTextSelection(),this._moving||(i=t.touches?t.touches[0]:t,this._startPoint=new _.Point(i.clientX,i.clientY),this._startPos=this._newPos=_.DomUtil.getPosition(this._element),_.DomEvent.on(d,_.Draggable.MOVE[t.type],this._onMove,this).on(d,_.Draggable.END[t.type],this._onUp,this))))},_onMove:function(t){var i;t.touches&&1<t.touches.length?this._moved=!0:(i=t.touches&&1===t.touches.length?t.touches[0]:t,((i=new _.Point(i.clientX,i.clientY).subtract(this._startPoint)).x||i.y)&&(_.Browser.touch&&Math.abs(i.x)+Math.abs(i.y)<3||(_.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=_.DomUtil.getPosition(this._element).subtract(i),_.DomUtil.addClass(d.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,_.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,_.Util.cancelAnimFrame(this._animRequest),this._animRequest=_.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))))},_updatePosition:function(){this.fire("predrag"),_.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){for(var t in _.DomUtil.removeClass(d.body,"leaflet-dragging"),this._lastTarget&&(_.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_.Draggable.MOVE)_.DomEvent.off(d,_.Draggable.MOVE[t],this._onMove).off(d,_.Draggable.END[t],this._onUp);_.DomUtil.enableImageDrag(),_.DomUtil.enableTextSelection(),this._moved&&this._moving&&(_.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),_.Handler=_.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),_.Map.mergeOptions({dragging:!0,inertia:!_.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:_.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),_.Map.Drag=_.Handler.extend({addHooks:function(){var t;this._draggable||(t=this._map,this._draggable=new _.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))),this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){var t,i;this._map.options.inertia&&(t=this._lastTime=+new Date,i=this._lastPos=this._draggable._newPos,this._positions.push(i),this._times.push(t),200<t-this._times[0]&&(this._positions.shift(),this._times.shift())),this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,i=Math.round(t/2),e=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-i+e)%t+i-e,i=(n+i+e)%t-i-e,i=Math.abs(o+e)<Math.abs(i+e)?o:i;this._draggable._newPos.x=i},_onDragEnd:function(t){var i,e,n,o=this._map,s=o.options,a=+new Date-this._lastTime,r=!s.inertia||a>s.inertiaThreshold||!this._positions[0];o.fire("dragend",t),r?o.fire("moveend"):(t=this._lastPos.subtract(this._positions[0]),r=(this._lastTime+a-this._times[0])/1e3,i=s.easeLinearity,t=(a=t.multiplyBy(i/r)).distanceTo([0,0]),r=Math.min(s.inertiaMaxSpeed,t),t=a.multiplyBy(r/t),e=r/(s.inertiaDeceleration*i),(n=t.multiplyBy(-e/2).round()).x&&n.y?(n=o._limitOffset(n,o.options.maxBounds),_.Util.requestAnimFrame(function(){o.panBy(n,{duration:e,easeLinearity:i,noMoveStart:!0})})):o.fire("moveend"))}}),_.Map.addInitHook("addHandler","dragging",_.Map.Drag),_.Map.mergeOptions({doubleClickZoom:!0}),_.Map.DoubleClickZoom=_.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,e=i.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===i.options.doubleClickZoom?i.setZoom(e):i.setZoomAround(t.containerPoint,e)}}),_.Map.addInitHook("addHandler","doubleClickZoom",_.Map.DoubleClickZoom),_.Map.mergeOptions({scrollWheelZoom:!0}),_.Map.ScrollWheelZoom=_.Handler.extend({addHooks:function(){_.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),_.DomEvent.on(this._map._container,"MozMousePixelScroll",_.DomEvent.preventDefault),this._delta=0},removeHooks:function(){_.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),_.DomEvent.off(this._map._container,"MozMousePixelScroll",_.DomEvent.preventDefault)},_onWheelScroll:function(t){var i=_.DomEvent.getWheelDelta(t);this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);i=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_.bind(this._performZoom,this),i),_.DomEvent.preventDefault(t),_.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,i=this._delta,e=t.getZoom(),i=0<i?Math.ceil(i):Math.floor(i);i=Math.max(Math.min(i,4),-4),i=t._limitZoom(e+i)-e,this._delta=0,this._startTime=null,i&&("center"===t.options.scrollWheelZoom?t.setZoom(e+i):t.setZoomAround(this._lastMousePos,e+i))}}),_.Map.addInitHook("addHandler","scrollWheelZoom",_.Map.ScrollWheelZoom),_.extend(_.DomEvent,{_touchstart:_.Browser.msPointer?"MSPointerDown":_.Browser.pointer?"pointerdown":"touchstart",_touchend:_.Browser.msPointer?"MSPointerUp":_.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,o,i){var s,a,r=!1,e="_leaflet_",n=this._touchstart,h=this._touchend,l=[];function u(t){var i,e=_.Browser.pointer?(l.push(t.pointerId),l.length):t.touches.length;1<e||(e=(i=Date.now())-(s||i),a=t.touches?t.touches[0]:t,r=0<e&&e<=250,s=i)}function c(t){if(_.Browser.pointer){t=l.indexOf(t.pointerId);if(-1===t)return;l.splice(t,1)}if(r){if(_.Browser.pointer){var i,e,n={};for(e in a)i=a[e],n[e]="function"==typeof i?i.bind(a):i;a=n}a.type="dblclick",o(a),s=null}}t[e+n+i]=u,t[e+h+i]=c;i=_.Browser.pointer?d.documentElement:t;return t.addEventListener(n,u,!1),i.addEventListener(h,c,!1),_.Browser.pointer&&i.addEventListener(_.DomEvent.POINTER_CANCEL,c,!1),this},removeDoubleTapListener:function(t,i){var e="_leaflet_";return t.removeEventListener(this._touchstart,t[e+this._touchstart+i],!1),(_.Browser.pointer?d.documentElement:t).removeEventListener(this._touchend,t[e+this._touchend+i],!1),_.Browser.pointer&&d.documentElement.removeEventListener(_.DomEvent.POINTER_CANCEL,t[e+this._touchend+i],!1),this}}),_.extend(_.DomEvent,{POINTER_DOWN:_.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:_.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:_.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:_.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,i,e,n){switch(i){case"touchstart":return this.addPointerListenerStart(t,i,e,n);case"touchend":return this.addPointerListenerEnd(t,i,e,n);case"touchmove":return this.addPointerListenerMove(t,i,e,n);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,i,n,e){var o=this._pointers,s=function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&_.DomEvent.preventDefault(t);for(var i=!1,e=0;e<o.length;e++)if(o[e].pointerId===t.pointerId){i=!0;break}i||o.push(t),t.touches=o.slice(),t.changedTouches=[t],n(t)};return t["_leaflet_touchstart"+e]=s,t.addEventListener(this.POINTER_DOWN,s,!1),this._pointerDocumentListener||(s=function(t){for(var i=0;i<o.length;i++)if(o[i].pointerId===t.pointerId){o.splice(i,1);break}},d.documentElement.addEventListener(this.POINTER_UP,s,!1),d.documentElement.addEventListener(this.POINTER_CANCEL,s,!1),this._pointerDocumentListener=!0),this},addPointerListenerMove:function(t,i,e,n){var o=this._pointers;function s(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var i=0;i<o.length;i++)if(o[i].pointerId===t.pointerId){o[i]=t;break}t.touches=o.slice(),t.changedTouches=[t],e(t)}}return t["_leaflet_touchmove"+n]=s,t.addEventListener(this.POINTER_MOVE,s,!1),this},addPointerListenerEnd:function(t,i,e,n){function o(t){for(var i=0;i<s.length;i++)if(s[i].pointerId===t.pointerId){s.splice(i,1);break}t.touches=s.slice(),t.changedTouches=[t],e(t)}var s=this._pointers;return t["_leaflet_touchend"+n]=o,t.addEventListener(this.POINTER_UP,o,!1),t.addEventListener(this.POINTER_CANCEL,o,!1),this},removePointerListener:function(t,i,e){var n=t["_leaflet_"+i+e];switch(i){case"touchstart":t.removeEventListener(this.POINTER_DOWN,n,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,n,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,n,!1),t.removeEventListener(this.POINTER_CANCEL,n,!1)}return this}}),_.Map.mergeOptions({touchZoom:_.Browser.touch&&!_.Browser.android23,bounceAtZoomLimits:!0}),_.Map.TouchZoom=_.Handler.extend({addHooks:function(){_.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i,e,n,o=this._map;!t.touches||2!==t.touches.length||o._animatingZoom||this._zooming||(i=o.mouseEventToLayerPoint(t.touches[0]),e=o.mouseEventToLayerPoint(t.touches[1]),n=o._getCenterLayerPoint(),this._startCenter=i.add(e)._divideBy(2),this._startDist=i.distanceTo(e),this._moved=!1,this._zooming=!0,this._centerOffset=n.subtract(this._startCenter),o._panAnim&&o._panAnim.stop(),_.DomEvent.on(d,"touchmove",this._onTouchMove,this).on(d,"touchend",this._onTouchEnd,this),_.DomEvent.preventDefault(t))},_onTouchMove:function(t){var i,e,n=this._map;t.touches&&2===t.touches.length&&this._zooming&&(i=n.mouseEventToLayerPoint(t.touches[0]),e=n.mouseEventToLayerPoint(t.touches[1]),this._scale=i.distanceTo(e)/this._startDist,this._delta=i._add(e)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(!n.options.bounceAtZoomLimits&&(n.getZoom()===n.getMinZoom()&&this._scale<1||n.getZoom()===n.getMaxZoom()&&1<this._scale)||(this._moved||(_.DomUtil.addClass(n._mapPane,"leaflet-touching"),n.fire("movestart").fire("zoomstart"),this._moved=!0),_.Util.cancelAnimFrame(this._animRequest),this._animRequest=_.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),_.DomEvent.preventDefault(t))))},_updateOnMove:function(){var t=this._map,i=this._getScaleOrigin(),e=t.layerPointToLatLng(i),i=t.getScaleZoom(this._scale);t._animateZoom(e,i,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){var t,i,e,n,o;this._moved&&this._zooming?(t=this._map,this._zooming=!1,_.DomUtil.removeClass(t._mapPane,"leaflet-touching"),_.Util.cancelAnimFrame(this._animRequest),_.DomEvent.off(d,"touchmove",this._onTouchMove).off(d,"touchend",this._onTouchEnd),i=this._getScaleOrigin(),e=t.layerPointToLatLng(i),n=t.getZoom(),o=0<(o=t.getScaleZoom(this._scale)-n)?Math.ceil(o):Math.floor(o),n=t._limitZoom(n+o),o=t.getZoomScale(n)/this._scale,t._animateZoom(e,n,i,o)):this._zooming=!1},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),_.Map.addInitHook("addHandler","touchZoom",_.Map.TouchZoom),_.Map.mergeOptions({tap:!0,tapTolerance:15}),_.Map.Tap=_.Handler.extend({addHooks:function(){_.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(_.DomEvent.preventDefault(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],t=i.target;this._startPos=this._newPos=new _.Point(i.clientX,i.clientY),t.tagName&&"a"===t.tagName.toLowerCase()&&_.DomUtil.addClass(t,"leaflet-active"),this._holdTimeout=setTimeout(_.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),_.DomEvent.on(d,"touchmove",this._onMove,this).on(d,"touchend",this._onUp,this)}},_onUp:function(t){var i;clearTimeout(this._holdTimeout),_.DomEvent.off(d,"touchmove",this._onMove,this).off(d,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches&&((t=(i=t.changedTouches[0]).target)&&t.tagName&&"a"===t.tagName.toLowerCase()&&_.DomUtil.removeClass(t,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",i))},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){t=t.touches[0];this._newPos=new _.Point(t.clientX,t.clientY)},_simulateEvent:function(t,i){var e=d.createEvent("MouseEvents");e._simulated=!0,i.target._simulatedClick=!0,e.initMouseEvent(t,!0,!0,o,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(e)}}),_.Browser.touch&&!_.Browser.pointer&&_.Map.addInitHook("addHandler","tap",_.Map.Tap),_.Map.mergeOptions({boxZoom:!0}),_.Map.BoxZoom=_.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){_.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){if(this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button)return!1;_.DomUtil.disableTextSelection(),_.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),_.DomEvent.on(d,"mousemove",this._onMouseMove,this).on(d,"mouseup",this._onMouseUp,this).on(d,"keydown",this._onKeyDown,this)},_onMouseMove:function(t){this._moved||(this._box=_.DomUtil.create("div","leaflet-zoom-box",this._pane),_.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var i=this._startLayerPoint,e=this._box,n=this._map.mouseEventToLayerPoint(t),t=n.subtract(i),i=new _.Point(Math.min(n.x,i.x),Math.min(n.y,i.y));_.DomUtil.setPosition(e,i),this._moved=!0,e.style.width=Math.max(0,Math.abs(t.x)-4)+"px",e.style.height=Math.max(0,Math.abs(t.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),_.DomUtil.enableTextSelection(),_.DomUtil.enableImageDrag(),_.DomEvent.off(d,"mousemove",this._onMouseMove).off(d,"mouseup",this._onMouseUp).off(d,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var i=this._map,t=i.mouseEventToLayerPoint(t);this._startLayerPoint.equals(t)||(t=new _.LatLngBounds(i.layerPointToLatLng(this._startLayerPoint),i.layerPointToLatLng(t)),i.fitBounds(t),i.fire("boxzoomend",{boxZoomBounds:t}))},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),_.Map.addInitHook("addHandler","boxZoom",_.Map.BoxZoom),_.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),_.Map.Keyboard=_.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),_.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;_.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){var t,i,e;this._focused||(t=d.body,e=d.documentElement,i=t.scrollTop||e.scrollTop,e=t.scrollLeft||e.scrollLeft,this._map._container.focus(),o.scrollTo(e,i))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){for(var i=this._panKeys={},e=this.keyCodes,n=0,o=e.left.length;n<o;n++)i[e.left[n]]=[-1*t,0];for(n=0,o=e.right.length;n<o;n++)i[e.right[n]]=[t,0];for(n=0,o=e.down.length;n<o;n++)i[e.down[n]]=[0,t];for(n=0,o=e.up.length;n<o;n++)i[e.up[n]]=[0,-1*t]},_setZoomOffset:function(t){for(var i=this._zoomKeys={},e=this.keyCodes,n=0,o=e.zoomIn.length;n<o;n++)i[e.zoomIn[n]]=t;for(n=0,o=e.zoomOut.length;n<o;n++)i[e.zoomOut[n]]=-t},_addHooks:function(){_.DomEvent.on(d,"keydown",this._onKeyDown,this)},_removeHooks:function(){_.DomEvent.off(d,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var i=t.keyCode,e=this._map;if(i in this._panKeys){if(e._panAnim&&e._panAnim._inProgress)return;e.panBy(this._panKeys[i]),e.options.maxBounds&&e.panInsideBounds(e.options.maxBounds)}else{if(!(i in this._zoomKeys))return;e.setZoom(e.getZoom()+this._zoomKeys[i])}_.DomEvent.stop(t)}}),_.Map.addInitHook("addHandler","keyboard",_.Map.Keyboard),_.Handler.MarkerDrag=_.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new _.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),_.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),_.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,i=t._shadow,e=_.DomUtil.getPosition(t._icon),n=t._map.layerPointToLatLng(e);i&&_.DomUtil.setPosition(i,e),t._latlng=n,t.fire("move",{latlng:n}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),_.Control=_.Class.extend({options:{position:"topright"},initialize:function(t){_.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var i=this._container=this.onAdd(t),e=this.getPosition(),t=t._controlCorners[e];return _.DomUtil.addClass(i,"leaflet-control"),-1!==e.indexOf("bottom")?t.insertBefore(i,t.firstChild):t.appendChild(i),this},removeFrom:function(t){var i=this.getPosition();return t._controlCorners[i].removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),_.control=function(t){return new _.Control(t)},_.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){var e=this._controlCorners={},n="leaflet-",o=this._controlContainer=_.DomUtil.create("div",n+"control-container",this._container);function t(t,i){e[t+i]=_.DomUtil.create("div",n+t+" "+n+i,o)}t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),_.Control.Zoom=_.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",e=_.DomUtil.create("div",i+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,i+"-in",e,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,i+"-out",e,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),e},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,i,e,n,o,s){n=_.DomUtil.create("a",e,n);n.innerHTML=t,n.href="#",n.title=i;i=_.DomEvent.stopPropagation;return _.DomEvent.on(n,"click",i).on(n,"mousedown",i).on(n,"dblclick",i).on(n,"click",_.DomEvent.preventDefault).on(n,"click",o,s).on(n,"click",this._refocusOnMap,s),n},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";_.DomUtil.removeClass(this._zoomInButton,i),_.DomUtil.removeClass(this._zoomOutButton,i),t._zoom===t.getMinZoom()&&_.DomUtil.addClass(this._zoomOutButton,i),t._zoom===t.getMaxZoom()&&_.DomUtil.addClass(this._zoomInButton,i)}}),_.Map.mergeOptions({zoomControl:!0}),_.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new _.Control.Zoom,this.addControl(this.zoomControl))}),_.control.zoom=function(t){return new _.Control.Zoom(t)},_.Control.Attribution=_.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){_.setOptions(this,t),this._attributions={}},onAdd:function(t){for(var i in this._container=_.DomUtil.create("div","leaflet-control-attribution"),_.DomEvent.disableClickPropagation(this._container),t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){if(t)return this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this},removeAttribution:function(t){if(t)return this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t,i=[];for(t in this._attributions)this._attributions[t]&&i.push(t);var e=[];this.options.prefix&&e.push(this.options.prefix),i.length&&e.push(i.join(", ")),this._container.innerHTML=e.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),_.Map.mergeOptions({attributionControl:!0}),_.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new _.Control.Attribution).addTo(this))}),_.control.attribution=function(t){return new _.Control.Attribution(t)},_.Control.Scale=_.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var i="leaflet-control-scale",e=_.DomUtil.create("div",i),n=this.options;return this._addScales(n,i,e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,e){t.metric&&(this._mScale=_.DomUtil.create("div",i+"-line",e)),t.imperial&&(this._iScale=_.DomUtil.create("div",i+"-line",e))},_update:function(){var t=this._map.getBounds(),i=t.getCenter().lat,e=6378137*Math.PI*Math.cos(i*Math.PI/180)*(t.getNorthEast().lng-t.getSouthWest().lng)/180,n=this._map.getSize(),i=this.options,t=0;0<n.x&&(t=e*(i.maxWidth/n.x)),this._updateScales(i,t)},_updateScales:function(t,i){t.metric&&i&&this._updateMetric(i),t.imperial&&i&&this._updateImperial(i)},_updateMetric:function(t){var i=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(i/t)+"px",this._mScale.innerHTML=i<1e3?i+" m":i/1e3+" km"},_updateImperial:function(t){var i,e=3.2808399*t,n=this._iScale;5280<e?(i=this._getRoundNum(t=e/5280),n.style.width=this._getScaleWidth(i/t)+"px",n.innerHTML=i+" mi"):(i=this._getRoundNum(e),n.style.width=this._getScaleWidth(i/e)+"px",n.innerHTML=i+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),t=t/i;return i*(t=10<=t?10:5<=t?5:3<=t?3:2<=t?2:1)}}),_.control.scale=function(t){return new _.Control.Scale(t)},_.Control.Layers=_.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,i,e){for(var n in _.setOptions(this,e),this._layers={},this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in i)this._addLayer(i[n],n,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._update(),this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._update(),this},removeLayer:function(t){t=_.stamp(t);return delete this._layers[t],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=_.DomUtil.create("div",t);i.setAttribute("aria-haspopup",!0),_.Browser.touch?_.DomEvent.on(i,"click",_.DomEvent.stopPropagation):_.DomEvent.disableClickPropagation(i).disableScrollPropagation(i);var e,n=this._form=_.DomUtil.create("form",t+"-list");this.options.collapsed?(_.Browser.android||_.DomEvent.on(i,"mouseover",this._expand,this).on(i,"mouseout",this._collapse,this),(e=this._layersLink=_.DomUtil.create("a",t+"-toggle",i)).href="#",e.title="Layers",_.Browser.touch?_.DomEvent.on(e,"click",_.DomEvent.stop).on(e,"click",this._expand,this):_.DomEvent.on(e,"focus",this._expand,this),_.DomEvent.on(n,"click",function(){setTimeout(_.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)):this._expand(),this._baseLayersList=_.DomUtil.create("div",t+"-base",n),this._separator=_.DomUtil.create("div",t+"-separator",n),this._overlaysList=_.DomUtil.create("div",t+"-overlays",n),i.appendChild(n)},_addLayer:function(t,i,e){var n=_.stamp(t);this._layers[n]={layer:t,name:i,overlay:e},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,i,e=!1,n=!1;for(t in this._layers)i=this._layers[t],this._addItem(i),n=n||i.overlay,e=e||!i.overlay;this._separator.style.display=n&&e?"":"none"}},_onLayerChange:function(t){var i=this._layers[_.stamp(t.layer)];i&&(this._handlingClick||this._update(),(t=i.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null)&&this._map.fire(t,i))},_createRadioElement:function(t,i){t='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';i&&(t+=' checked="checked"'),t+="/>";i=d.createElement("div");return i.innerHTML=t,i.firstChild},_addItem:function(t){var i,e=d.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((i=d.createElement("input")).type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=n):i=this._createRadioElement("leaflet-base-layers",n),i.layerId=_.stamp(t.layer),_.DomEvent.on(i,"click",this._onInputClick,this);n=d.createElement("span");return n.innerHTML=" "+t.name,e.appendChild(i),e.appendChild(n),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(e),e},_onInputClick:function(){var t,i,e,n=this._form.getElementsByTagName("input"),o=n.length;for(this._handlingClick=!0,t=0;t<o;t++)i=n[t],e=this._layers[i.layerId],i.checked&&!this._map.hasLayer(e.layer)?this._map.addLayer(e.layer):!i.checked&&this._map.hasLayer(e.layer)&&this._map.removeLayer(e.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){_.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),_.control.layers=function(t,i,e){return new _.Control.Layers(t,i,e)},_.PosAnimation=_.Class.extend({includes:_.Mixin.Events,run:function(t,i,e,n){this.stop(),this._el=t,this._inProgress=!0,this._newPos=i,this.fire("start"),t.style[_.DomUtil.TRANSITION]="all "+(e||.25)+"s cubic-bezier(0,0,"+(n||.5)+",1)",_.DomEvent.on(t,_.DomUtil.TRANSITION_END,this._onTransitionEnd,this),_.DomUtil.setPosition(t,i),_.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(_.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(_.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),_.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();t?(this._el._leaflet_pos=t,this.fire("step")):this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var t,i,e=this._el,e=o.getComputedStyle(e);if(_.Browser.any3d){if(!(i=e[_.DomUtil.TRANSFORM].match(this._transformRe)))return;t=parseFloat(i[1]),i=parseFloat(i[2])}else t=parseFloat(e.left),i=parseFloat(e.top);return new _.Point(t,i,!0)},_onTransitionEnd:function(){_.DomEvent.off(this._el,_.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[_.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),_.Map.include({setView:function(t,i,e){if((i=i===a?this._zoom:this._limitZoom(i),t=this._limitCenter(_.latLng(t),i,this.options.maxBounds),e=e||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!e.reset&&!0!==e)&&(e.animate!==a&&(e.zoom=_.extend({animate:e.animate},e.zoom),e.pan=_.extend({animate:e.animate},e.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,e.zoom):this._tryAnimatedPan(t,e.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,i),this},panBy:function(t,i){return i=i||{},((t=_.point(t).round()).x||t.y)&&(this._panAnim||(this._panAnim=new _.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),!1!==i.animate?(_.DomUtil.addClass(this._mapPane,"leaflet-pan-anim"),e=this._getMapPanePos().subtract(t),this._panAnim.run(this._mapPane,e,i.duration||.25,i.easeLinearity)):(this._rawPanBy(t),this.fire("move").fire("moveend"))),this;var e},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){t=this._getCenterOffset(t)._floor();return!(!0!==(i&&i.animate)&&!this.getSize().contains(t))&&(this.panBy(t,i),!0)}}),_.PosAnimation=_.DomUtil.TRANSITION?_.PosAnimation:_.PosAnimation.extend({run:function(t,i,e,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=e||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=_.DomUtil.getPosition(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=_.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,i=1e3*this._duration;t<i?this._runFrame(this._easeOut(t/i)):(this._runFrame(1),this._complete())},_runFrame:function(t){t=this._startPos.add(this._offset.multiplyBy(t));_.DomUtil.setPosition(this._el,t),this.fire("step")},_complete:function(){_.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),_.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),_.DomUtil.TRANSITION&&_.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&_.DomUtil.TRANSITION&&_.Browser.any3d&&!_.Browser.android23&&!_.Browser.mobileOpera,this._zoomAnimated&&_.DomEvent.on(this._mapPane,_.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),_.Map.include(_.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,e){if(this._animatingZoom)return!0;if(e=e||{},!this._zoomAnimated||!1===e.animate||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(i),o=this._getCenterOffset(t)._divideBy(1-1/n),s=this._getCenterLayerPoint()._add(o);return!(!0!==e.animate&&!this.getSize().contains(o))&&(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,i,s,n,null,!0),!0)},_animateZoom:function(t,i,e,n,o,s,a){a||(this._animatingZoom=!0),_.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=i,_.Draggable&&(_.Draggable._disabled=!0),_.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:i,origin:e,scale:n,delta:o,backwards:s}),setTimeout(_.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,_.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),_.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),_.Draggable&&(_.Draggable._disabled=!1)},this))}}:{}),_.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var i=this._bgBuffer,e=_.DomUtil.TRANSFORM,n=t.delta?_.DomUtil.getTranslateString(t.delta):i.style[e],o=_.DomUtil.getScaleString(t.scale,t.origin);i.style[e]=t.backwards?o+" "+n:n+" "+o},_endZoomAnim:function(){var t=this._tileContainer,i=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),_.Util.falseFn(i.offsetWidth);i=this._map.getZoom();(i>this.options.maxZoom||i<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[_.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,i=this._bgBuffer,e=this._getLoadedTilesPercentage(i),n=this._getLoadedTilesPercentage(t);if(i&&.5<e&&n<.5)return t.style.visibility="hidden",void this._stopLoadingImages(t);i.style.visibility="hidden",i.style[_.DomUtil.TRANSFORM]="",this._tileContainer=i,i=this._bgBuffer=t,this._stopLoadingImages(i),clearTimeout(this._clearBgBufferTimer)},_getLoadedTilesPercentage:function(t){for(var i=t.getElementsByTagName("img"),e=0,n=0,o=i.length;n<o;n++)i[n].complete&&e++;return e/o},_stopLoadingImages:function(t){for(var i,e=Array.prototype.slice.call(t.getElementsByTagName("img")),n=0,o=e.length;n<o;n++)(i=e[n]).complete||(i.onload=_.Util.falseFn,i.onerror=_.Util.falseFn,i.src=_.Util.emptyImageUrl,i.parentNode.removeChild(i))}}),_.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=_.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=_.bind(this._handleGeolocationResponse,this),e=_.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,e,t):navigator.geolocation.getCurrentPosition(i,e,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var i=t.code,t=t.message||(1===i?"permission denied":2===i?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+t+"."})},_handleGeolocationResponse:function(t){var i=t.coords.latitude,e=t.coords.longitude,n=new _.LatLng(i,e),o=180*t.coords.accuracy/40075017,s=o/Math.cos(_.LatLng.DEG_TO_RAD*i),e=_.latLngBounds([i-o,e-s],[i+o,e+s]),s=this._locateOptions;s.setView&&(s=Math.min(this.getBoundsZoom(e),s.maxZoom),this.setView(n,s));var a,r={latlng:n,bounds:e,timestamp:t.timestamp};for(a in t.coords)"number"==typeof t.coords[a]&&(r[a]=t.coords[a]);this.fire("locationfound",r)}})}(window,document)},{}],3:[function(t,i,e){var n,o;n=function(a){var t=a.Control.extend({includes:a.Evented?a.Evented.prototype:a.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(t,i){a.Util.setOptions(this,i),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=t},onAdd:function(t){this._mainMap=t,this._container=a.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",a.DomEvent.disableClickPropagation(this._container),a.DomEvent.on(this._container,"mousewheel",a.DomEvent.stopPropagation);t={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:t.options.crs},t=a.Util.extend(this.options.mapOptions,t);return this._miniMap=new a.Map(this._container,t),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(a.Util.bind(function(){this._aimingRect=a.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=a.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(t){a.Control.prototype.addTo.call(this,t);t=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(t,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(t){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(t){this._miniMap.removeLayer(this._layer),this._layer=t,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(t,i,e,n,o,s){n=a.DomUtil.create("a",e,n);n.innerHTML=t,n.href="#",n.title=i;i=a.DomEvent.stopPropagation;return a.DomEvent.on(n,"click",i).on(n,"mousedown",i).on(n,"dblclick",i).on(n,"click",a.DomEvent.preventDefault).on(n,"click",o,s),n},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(t){t!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(t){var i;this._miniMapMoving?this._miniMapMoving=!1:(i=this.options.centerFixed||this._mainMap.getCenter(),this._mainMapMoving=!0,this._miniMap.setView(i,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())),this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(t){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(t){var i,e;this.options.centerFixed||(e=this._aimingRect.getBounds(),i=this._miniMap.latLngToContainerPoint(e.getSouthWest()),e=this._miniMap.latLngToContainerPoint(e.getNorthEast()),this._lastAimingRectPosition={sw:i,ne:e})},_onMiniMapMoving:function(t){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new a.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(t){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var t=this.options.zoomLevelFixed;return this._isDefined(t)&&this._isInteger(t)},_decideZoom:function(t){if(this._isZoomLevelFixed())return t?this.options.zoomLevelFixed:this._mainMap.getZoom();if(t)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var i,e=this._miniMap.getZoom()-this._mainMap.getZoom(),t=this._miniMap.getZoom()-this.options.zoomLevelOffset;return e>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(i=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):i=this._mainMap.getZoom():i=t,this._lastMiniMapZoom=this._miniMap.getZoom(),i},_decideMinimized:function(){return!this._userToggledDisplay&&this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(t){return"number"==typeof t},_isDefined:function(t){return void 0!==t},_onToggle:function(){a.Util.requestAnimFrame(function(){a.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),a.Browser.any3d||a.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){a.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var t={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",t),this.fire("toggle",t)}});return a.Map.mergeOptions({miniMapControl:!1}),a.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=(new t).addTo(this))}),t},o=window,"function"==typeof define&&define.amd?define(["leaflet"],n):"object"==typeof e&&(i.exports=n(t("leaflet"))),void 0!==o&&o.L&&(o.L.Control.MiniMap=n(L),o.L.control.minimap=function(t,i){return new o.L.Control.MiniMap(t,i)})},{leaflet:4}],4:[function(t,i,e){var n,o;n=this,o=function(t){"use strict";function h(t){for(var i,e,n=1,o=arguments.length;n<o;n++)for(i in e=arguments[n])t[i]=e[i];return t}var s=Object.create||function(t){return i.prototype=t,new i};function i(){}function d(t,i){var e=Array.prototype.slice;if(t.bind)return t.bind.apply(t,e.call(arguments,1));var n=e.call(arguments,2);return function(){return t.apply(i,n.length?n.concat(e.call(arguments)):arguments)}}var e=0;function m(t){return t._leaflet_id=t._leaflet_id||++e,t._leaflet_id}function n(t,i,e){var n,o,s=function(){n=!1,o&&(a.apply(e,o),o=!1)},a=function(){n?o=arguments:(t.apply(e,arguments),setTimeout(s,i),n=!0)};return a}function o(t,i,e){var n=i[1],o=i[0],i=n-o;return t===n&&e?t:((t-o)%i+i)%i+o}function r(){return!1}function a(t,i){i=Math.pow(10,void 0===i?6:i);return Math.round(t*i)/i}function l(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function u(t){return l(t).split(/\s+/)}function c(t,i){for(var e in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?s(t.options):{}),i)t.options[e]=i[e];return t.options}function _(t,i,e){var n,o=[];for(n in t)o.push(encodeURIComponent(e?n.toUpperCase():n)+"="+encodeURIComponent(t[n]));return(i&&-1!==i.indexOf("?")?"&":"?")+o.join("&")}var p=/\{ *([\w_-]+) *\}/g;function f(t,e){return t.replace(p,function(t,i){i=e[i];if(void 0===i)throw new Error("No value provided for variable "+t);return i="function"==typeof i?i(e):i})}var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,i){for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var P=0;function w(t){var i=+new Date,e=Math.max(0,16-(i-P));return P=i+e,window.setTimeout(t,e)}var b=window.requestAnimationFrame||x("RequestAnimationFrame")||w,T=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function M(t,i,e){if(!e||b!==w)return b.call(window,d(t,i));t.call(i)}function C(t){t&&T.call(window,t)}var E={extend:h,create:s,bind:d,lastId:e,stamp:m,throttle:n,wrapNum:o,falseFn:r,formatNum:a,trim:l,splitWords:u,setOptions:c,getParamString:_,template:f,isArray:g,indexOf:v,emptyImageUrl:y,requestFn:b,cancelFn:T,requestAnimFrame:M,cancelAnimFrame:C};function S(){}S.extend=function(t){function i(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var e,n=i.__super__=this.prototype,o=s(n);for(e in(o.constructor=i).prototype=o,this)Object.prototype.hasOwnProperty.call(this,e)&&"prototype"!==e&&"__super__"!==e&&(i[e]=this[e]);return t.statics&&(h(i,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=g(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),h.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=h(s(o.options),t.options)),h(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,i=o._initHooks.length;t<i;t++)o._initHooks[t].call(this)}},i},S.include=function(t){return h(this.prototype,t),this},S.mergeOptions=function(t){return h(this.prototype.options,t),this},S.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),e="function"==typeof t?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(e),this};var z={on:function(t,i,e){if("object"==typeof t)for(var n in t)this._on(n,t[n],i);else for(var o=0,s=(t=u(t)).length;o<s;o++)this._on(t[o],i,e);return this},off:function(t,i,e){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],i);else for(var o=0,s=(t=u(t)).length;o<s;o++)this._off(t[o],i,e);else delete this._events;return this},_on:function(t,i,e){this._events=this._events||{};var n=this._events[t];n||(this._events[t]=n=[]);for(var t={fn:i,ctx:e=e===this?void 0:e},o=n,s=0,a=o.length;s<a;s++)if(o[s].fn===i&&o[s].ctx===e)return;o.push(t)},_off:function(t,i,e){var n,o,s;if(this._events&&(n=this._events[t]))if(i){if(e===this&&(e=void 0),n)for(o=0,s=n.length;o<s;o++){var a=n[o];if(a.ctx===e&&a.fn===i)return a.fn=r,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(o,1)}}else{for(o=0,s=n.length;o<s;o++)n[o].fn=r;delete this._events[t]}},fire:function(t,i,e){if(!this.listens(t,e))return this;var n=h({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var r=o[s];r.fn.call(r.ctx||this,n)}this._firingCount--}}return e&&this._propagateEvent(n),this},listens:function(t,i){var e=this._events&&this._events[t];if(e&&e.length)return!0;if(i)for(var n in this._eventParents)if(this._eventParents[n].listens(t,i))return!0;return!1},once:function(t,i,e){if("object"==typeof t){for(var n in t)this.once(n,t[n],i);return this}var o=d(function(){this.off(t,i,e).off(t,o,e)},this);return this.on(t,i,e).on(t,o,e)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[m(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[m(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,h({layer:t.target,propagatedFrom:t.target},t),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var D=S.extend(z);function k(t,i,e){this.x=e?Math.round(t):t,this.y=e?Math.round(i):i}var B=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};function A(t,i,e){return t instanceof k?t:g(t)?new k(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new k(t.x,t.y):new k(t,i,e)}function O(t,i){if(t)for(var e=i?[t,i]:t,n=0,o=e.length;n<o;n++)this.extend(e[n])}function I(t,i){return!t||t instanceof O?t:new O(t,i)}function Z(t,i){if(t)for(var e=i?[t,i]:t,n=0,o=e.length;n<o;n++)this.extend(e[n])}function R(t,i){return t instanceof Z?t:new Z(t,i)}function N(t,i,e){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,void 0!==e&&(this.alt=+e)}function U(t,i,e){return t instanceof N?t:g(t)&&"object"!=typeof t[0]?3===t.length?new N(t[0],t[1],t[2]):2===t.length?new N(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new N(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===i?null:new N(t,i,e)}k.prototype={clone:function(){return new k(this.x,this.y)},add:function(t){return this.clone()._add(A(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(A(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new k(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new k(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=B(this.x),this.y=B(this.y),this},distanceTo:function(t){var i=(t=A(t)).x-this.x,t=t.y-this.y;return Math.sqrt(i*i+t*t)},equals:function(t){return(t=A(t)).x===this.x&&t.y===this.y},contains:function(t){return t=A(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+a(this.x)+", "+a(this.y)+")"}},O.prototype={extend:function(t){return t=A(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new k(this.min.x,this.max.y)},getTopRight:function(){return new k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,e;return(t=("number"==typeof t[0]||t instanceof k?A:I)(t))instanceof O?(i=t.min,e=t.max):i=e=t,i.x>=this.min.x&&e.x<=this.max.x&&i.y>=this.min.y&&e.y<=this.max.y},intersects:function(t){t=I(t);var i=this.min,e=this.max,n=t.min,o=t.max,t=o.x>=i.x&&n.x<=e.x,e=o.y>=i.y&&n.y<=e.y;return t&&e},overlaps:function(t){t=I(t);var i=this.min,e=this.max,n=t.min,o=t.max,t=o.x>i.x&&n.x<e.x,e=o.y>i.y&&n.y<e.y;return t&&e},isValid:function(){return!(!this.min||!this.max)}},Z.prototype={extend:function(t){var i,e,n=this._southWest,o=this._northEast;if(t instanceof N)e=i=t;else{if(!(t instanceof Z))return t?this.extend(U(t)||R(t)):this;if(i=t._southWest,e=t._northEast,!i||!e)return this}return n||o?(n.lat=Math.min(i.lat,n.lat),n.lng=Math.min(i.lng,n.lng),o.lat=Math.max(e.lat,o.lat),o.lng=Math.max(e.lng,o.lng)):(this._southWest=new N(i.lat,i.lng),this._northEast=new N(e.lat,e.lng)),this},pad:function(t){var i=this._southWest,e=this._northEast,n=Math.abs(i.lat-e.lat)*t,t=Math.abs(i.lng-e.lng)*t;return new Z(new N(i.lat-n,i.lng-t),new N(e.lat+n,e.lng+t))},getCenter:function(){return new N((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new N(this.getNorth(),this.getWest())},getSouthEast:function(){return new N(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t=("number"==typeof t[0]||t instanceof N||"lat"in t?U:R)(t);var i,e,n=this._southWest,o=this._northEast;return t instanceof Z?(i=t.getSouthWest(),e=t.getNorthEast()):i=e=t,i.lat>=n.lat&&e.lat<=o.lat&&i.lng>=n.lng&&e.lng<=o.lng},intersects:function(t){t=R(t);var i=this._southWest,e=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),t=o.lat>=i.lat&&n.lat<=e.lat,e=o.lng>=i.lng&&n.lng<=e.lng;return t&&e},overlaps:function(t){t=R(t);var i=this._southWest,e=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),t=o.lat>i.lat&&n.lat<e.lat,e=o.lng>i.lng&&n.lng<e.lng;return t&&e},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return!!t&&(t=R(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i))},isValid:function(){return!(!this._southWest||!this._northEast)}};var j={latLngToPoint:function(t,i){t=this.projection.project(t),i=this.scale(i);return this.transformation._transform(t,i)},pointToLatLng:function(t,i){i=this.scale(i),i=this.transformation.untransform(t,i);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,t=this.scale(t);return new O(this.transformation.transform(i.min,t),this.transformation.transform(i.max,t))},infinite:!(N.prototype={equals:function(t,i){return!!t&&(t=U(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===i?1e-9:i))},toString:function(t){return"LatLng("+a(this.lat,t)+", "+a(this.lng,t)+")"},distanceTo:function(t){return W.distance(this,U(t))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,t=i/Math.cos(Math.PI/180*this.lat);return R([this.lat-i,this.lng-t],[this.lat+i,this.lng+t])},clone:function(){return new N(this.lat,this.lng,this.alt)}}),wrapLatLng:function(t){var i=this.wrapLng?o(t.lng,this.wrapLng,!0):t.lng;return new N(this.wrapLat?o(t.lat,this.wrapLat,!0):t.lat,i,t.alt)},wrapLatLngBounds:function(t){var i=t.getCenter(),e=this.wrapLatLng(i),n=i.lat-e.lat,i=i.lng-e.lng;if(0==n&&0==i)return t;e=t.getSouthWest(),t=t.getNorthEast();return new Z(new N(e.lat-n,e.lng-i),new N(t.lat-n,t.lng-i))}},W=h({},j,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var e=Math.PI/180,n=t.lat*e,o=i.lat*e,s=Math.sin((i.lat-t.lat)*e/2),e=Math.sin((i.lng-t.lng)*e/2),e=s*s+Math.cos(n)*Math.cos(o)*e*e,e=2*Math.atan2(Math.sqrt(e),Math.sqrt(1-e));return this.R*e}}),H={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,e=this.MAX_LATITUDE,e=Math.max(Math.min(e,t.lat),-e),e=Math.sin(e*i);return new k(this.R*t.lng*i,this.R*Math.log((1+e)/(1-e))/2)},unproject:function(t){var i=180/Math.PI;return new N((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:new O([-(gt=6378137*Math.PI),-gt],[gt,gt])};function F(t,i,e,n){if(g(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=i,this._c=e,this._d=n}function V(t,i,e,n){return new F(t,i,e,n)}F.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return t.x=(i=i||1)*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return new k((t.x/(i=i||1)-this._b)/this._a,(t.y/i-this._d)/this._c)}};var G=h({},W,{code:"EPSG:3857",projection:H,transformation:V(vt=.5/(Math.PI*H.R),.5,-vt,.5)}),q=h({},G,{code:"EPSG:900913"});function J(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function K(t,i){for(var e,n,o,s,a="",r=0,h=t.length;r<h;r++){for(e=0,n=(o=t[r]).length;e<n;e++)a+=(e?"L":"M")+(s=o[e]).x+" "+s.y;a+=i?Tt?"z":"x":""}return a||"M0 0"}var Y=document.documentElement.style,X="ActiveXObject"in window,$=X&&!document.addEventListener,Q="msLaunchUri"in navigator&&!("documentMode"in document),tt=Ct("webkit"),it=Ct("android"),et=Ct("android 2")||Ct("android 3"),nt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ot=it&&Ct("Google")&&nt<537&&!("AudioNode"in window),st=!!window.opera,at=!Q&&Ct("chrome"),rt=Ct("gecko")&&!tt&&!st&&!X,ht=!at&&Ct("safari"),lt=Ct("phantom"),ut="OTransition"in Y,ct=0===navigator.platform.indexOf("Win"),dt=X&&"transition"in Y,_t="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!et,pt="MozPerspective"in Y,mt=!window.L_DISABLE_3D&&(dt||_t||pt)&&!ut&&!lt,ft="undefined"!=typeof orientation||Ct("mobile"),gt=ft&&tt,vt=ft&&_t,nt=!window.PointerEvent&&window.MSPointerEvent,yt=!(!window.PointerEvent&&!nt),Lt=!window.L_NO_TOUCH&&(yt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),xt=ft&&st,Y=ft&&rt,Pt=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),wt=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",r,i),window.removeEventListener("testPassiveEventSupport",r,i)}catch(t){}return t}(),bt=!!document.createElement("canvas").getContext,Tt=!(!document.createElementNS||!J("svg").createSVGRect),Mt=!Tt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(t){return!1}}();function Ct(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}var st={ie:X,ielt9:$,edge:Q,webkit:tt,android:it,android23:et,androidStock:ot,opera:st,chrome:at,gecko:rt,safari:ht,phantom:lt,opera12:ut,win:ct,ie3d:dt,webkit3d:_t,gecko3d:pt,any3d:mt,mobile:ft,mobileWebkit:gt,mobileWebkit3d:vt,msPointer:nt,pointer:yt,touch:Lt,mobileOpera:xt,mobileGecko:Y,retina:Pt,passiveEvents:wt,canvas:bt,svg:Tt,vml:Mt},Et=nt?"MSPointerDown":"pointerdown",St=nt?"MSPointerMove":"pointermove",zt=nt?"MSPointerUp":"pointerup",Dt=nt?"MSPointerCancel":"pointercancel",kt={},Bt=!1;function At(t,i,e,n){function o(t){Rt(t,s)}var s,a,r,h,l,u;function c(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Rt(t,a)}return"touchstart"===i?(r=t,h=e,l=n,u=d(function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&zi(t),Rt(t,h)}),r["_leaflet_touchstart"+l]=u,r.addEventListener(Et,u,!1),Bt||(document.addEventListener(Et,Ot,!0),document.addEventListener(St,It,!0),document.addEventListener(zt,Zt,!0),document.addEventListener(Dt,Zt,!0),Bt=!0)):"touchmove"===i?(a=e,(u=t)["_leaflet_touchmove"+n]=c,u.addEventListener(St,c,!1)):"touchend"===i&&(s=e,(t=t)["_leaflet_touchend"+n]=o,t.addEventListener(zt,o,!1),t.addEventListener(Dt,o,!1)),this}function Ot(t){kt[t.pointerId]=t}function It(t){kt[t.pointerId]&&(kt[t.pointerId]=t)}function Zt(t){delete kt[t.pointerId]}function Rt(t,i){for(var e in t.touches=[],kt)t.touches.push(kt[e]);t.changedTouches=[t],i(t)}var Nt=nt?"MSPointerDown":yt?"pointerdown":"touchstart",Ut=nt?"MSPointerUp":yt?"pointerup":"touchend",jt="_leaflet_";var Wt,Ht,Ft,Vt,Gt,qt,Jt=ui(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kt=ui(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yt="webkitTransition"===Kt||"OTransition"===Kt?Kt+"End":"transitionend";function Xt(t){return"string"==typeof t?document.getElementById(t):t}function $t(t,i){var e=t.style[i]||t.currentStyle&&t.currentStyle[i];return"auto"===(e=(!e||"auto"===e)&&document.defaultView?(t=document.defaultView.getComputedStyle(t,null))?t[i]:null:e)?null:e}function Qt(t,i,e){t=document.createElement(t);return t.className=i||"",e&&e.appendChild(t),t}function ti(t){var i=t.parentNode;i&&i.removeChild(t)}function ii(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ei(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function ni(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function oi(t,i){if(void 0!==t.classList)return t.classList.contains(i);t=hi(t);return 0<t.length&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(t)}function si(t,i){var e;if(void 0!==t.classList)for(var n=u(i),o=0,s=n.length;o<s;o++)t.classList.add(n[o]);else oi(t,i)||ri(t,((e=hi(t))?e+" ":"")+i)}function ai(t,i){void 0!==t.classList?t.classList.remove(i):ri(t,l((" "+hi(t)+" ").replace(" "+i+" "," ")))}function ri(t,i){void 0===t.className.baseVal?t.className=i:t.className.baseVal=i}function hi(t){return void 0===(t=t.correspondingElement?t.correspondingElement:t).className.baseVal?t.className:t.className.baseVal}function li(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&function(t,i){var e=!1,n="DXImageTransform.Microsoft.Alpha";try{e=t.filters.item(n)}catch(t){if(1===i)return}i=Math.round(100*i),e?(e.Enabled=100!==i,e.Opacity=i):t.style.filter+=" progid:"+n+"(opacity="+i+")"}(t,i)}function ui(t){for(var i=document.documentElement.style,e=0;e<t.length;e++)if(t[e]in i)return t[e];return!1}function ci(t,i,e){i=i||new k(0,0);t.style[Jt]=(dt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(e?" scale("+e+")":"")}function di(t,i){t._leaflet_pos=i,mt?ci(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function _i(t){return t._leaflet_pos||new k(0,0)}function pi(){Li(window,"dragstart",zi)}function mi(){Pi(window,"dragstart",zi)}function fi(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(gi(),qt=(Gt=t).style.outline,t.style.outline="none",Li(window,"keydown",gi))}function gi(){Gt&&(Gt.style.outline=qt,qt=Gt=void 0,Pi(window,"keydown",gi))}function vi(t){for(;!((t=t.parentNode).offsetWidth&&t.offsetHeight||t===document.body););return t}function yi(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}Vt="onselectstart"in document?(Ft=function(){Li(window,"selectstart",zi)},function(){Pi(window,"selectstart",zi)}):(Ht=ui(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),Ft=function(){var t;Ht&&(t=document.documentElement.style,Wt=t[Ht],t[Ht]="none")},function(){Ht&&(document.documentElement.style[Ht]=Wt,Wt=void 0)});lt={TRANSFORM:Jt,TRANSITION:Kt,TRANSITION_END:Yt,get:Xt,getStyle:$t,create:Qt,remove:ti,empty:ii,toFront:ei,toBack:ni,hasClass:oi,addClass:si,removeClass:ai,setClass:ri,getClass:hi,setOpacity:li,testProp:ui,setTransform:ci,setPosition:di,getPosition:_i,disableTextSelection:Ft,enableTextSelection:Vt,disableImageDrag:pi,enableImageDrag:mi,preventOutline:fi,restoreOutline:gi,getSizedParentNode:vi,getScale:yi};function Li(t,i,e,n){if("object"==typeof i)for(var o in i)Ti(t,o,i[o],e);else for(var s=0,a=(i=u(i)).length;s<a;s++)Ti(t,i[s],e,n);return this}var xi="_leaflet_events";function Pi(t,i,e,n){if("object"==typeof i)for(var o in i)Mi(t,o,i[o],e);else if(i)for(var s=0,a=(i=u(i)).length;s<a;s++)Mi(t,i[s],e,n);else{for(var r in t[xi])Mi(t,r,t[xi][r]);delete t[xi]}return this}function wi(){return yt&&(!Q&&!ht)}var bi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ti(i,t,e,n){var o=t+m(e)+(n?"_"+m(n):"");if(i[xi]&&i[xi][o])return this;var s,a,r,h,l,u,c=function(t){return e.call(n||i,t||window.event)},d=c;function _(t){if(yt){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(1<t.touches.length)return;var i=Date.now(),e=i-(h||i);l=t.touches?t.touches[0]:t,u=0<e&&e<=250,h=i}function p(t){if(u&&!l.cancelBubble){if(yt){if("mouse"===t.pointerType)return;var i,e,n={};for(e in l)i=l[e],n[e]=i&&i.bind?i.bind(l):i;l=n}l.type="dblclick",l.button=0,a(l),h=null}}yt&&0===t.indexOf("touch")?At(i,t,c,o):Lt&&"dblclick"===t&&!wi()?(a=c,u=!1,(s=i)[jt+Nt+(r=o)]=_,s[jt+Ut+r]=p,s[jt+"dblclick"+r]=a,s.addEventListener(Nt,_,!!wt&&{passive:!1}),s.addEventListener(Ut,p,!!wt&&{passive:!1}),s.addEventListener("dblclick",a,!1)):"addEventListener"in i?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?i.addEventListener(bi[t]||t,c,!!wt&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(c=function(t){t=t||window.event,Ri(i,t)&&d(t)},i.addEventListener(bi[t],c,!1)):i.addEventListener(t,d,!1):"attachEvent"in i&&i.attachEvent("on"+t,c),i[xi]=i[xi]||{},i[xi][o]=c}function Mi(t,i,e,n){var o,s,a,r=i+m(e)+(n?"_"+m(n):""),e=t[xi]&&t[xi][r];if(!e)return this;yt&&0===i.indexOf("touch")?(a=(o=t)["_leaflet_"+(s=i)+(a=r)],"touchstart"===s?o.removeEventListener(Et,a,!1):"touchmove"===s?o.removeEventListener(St,a,!1):"touchend"===s&&(o.removeEventListener(zt,a,!1),o.removeEventListener(Dt,a,!1))):Lt&&"dblclick"===i&&!wi()?(n=r,o=(s=t)[jt+Nt+r],a=s[jt+Ut+r],n=s[jt+"dblclick"+r],s.removeEventListener(Nt,o,!!wt&&{passive:!1}),s.removeEventListener(Ut,a,!!wt&&{passive:!1}),s.removeEventListener("dblclick",n,!1)):"removeEventListener"in t?t.removeEventListener(bi[i]||i,e,!1):"detachEvent"in t&&t.detachEvent("on"+i,e),t[xi][r]=null}function Ci(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Zi(t),this}function Ei(t){return Ti(t,"wheel",Ci),this}function Si(t){return Li(t,"mousedown touchstart dblclick",Ci),Ti(t,"click",Ii),this}function zi(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Di(t){return zi(t),Ci(t),this}function ki(t,i){if(!i)return new k(t.clientX,t.clientY);var e=yi(i),n=e.boundingClientRect;return new k((t.clientX-n.left)/e.x-i.clientLeft,(t.clientY-n.top)/e.y-i.clientTop)}var Bi=ct&&at?2*window.devicePixelRatio:rt?window.devicePixelRatio:1;function Ai(t){return Q?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Bi:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Oi={};function Ii(t){Oi[t.type]=!0}function Zi(t){var i=Oi[t.type];return Oi[t.type]=!1,i}function Ri(t,i){var e=i.relatedTarget;if(!e)return!0;try{for(;e&&e!==t;)e=e.parentNode}catch(t){return!1}return e!==t}var ut={on:Li,off:Pi,stopPropagation:Ci,disableScrollPropagation:Ei,disableClickPropagation:Si,preventDefault:zi,stop:Di,getMousePosition:ki,getWheelDelta:Ai,fakeStop:Ii,skipped:Zi,isExternalTarget:Ri,addListener:Li,removeListener:Pi},Ni=D.extend({run:function(t,i,e,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=e||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=_i(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,e=1e3*this._duration;i<e?this._runFrame(this._easeOut(i/e),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){t=this._startPos.add(this._offset.multiplyBy(t));i&&t._round(),di(this._el,t),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ui=D.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=c(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),void 0!==i.zoom&&(this._zoom=this._limitZoom(i.zoom)),i.center&&void 0!==i.zoom&&this.setView(U(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Kt&&mt&&!xt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Li(this._proxy,Yt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,e){if((i=void 0===i?this._zoom:this._limitZoom(i),t=this._limitCenter(U(t),i,this.options.maxBounds),e=e||{},this._stop(),this._loaded&&!e.reset&&!0!==e)&&(void 0!==e.animate&&(e.zoom=h({animate:e.animate},e.zoom),e.pan=h({animate:e.animate,duration:e.duration},e.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,e.zoom):this._tryAnimatedPan(t,e.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,i),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(mt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(mt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,e){var n=this.getZoomScale(i),o=this.getSize().divideBy(2),n=(t instanceof k?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),n=this.containerPointToLatLng(o.add(n));return this.setView(n,i,{zoom:e})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():R(t);var e=A(i.paddingTopLeft||i.padding||[0,0]),n=A(i.paddingBottomRight||i.padding||[0,0]),o=this.getBoundsZoom(t,!1,e.add(n));if((o="number"==typeof i.maxZoom?Math.min(i.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};n=n.subtract(e).divideBy(2),e=this.project(t.getSouthWest(),o),t=this.project(t.getNorthEast(),o);return{center:this.unproject(e.add(t).divideBy(2).add(n),o),zoom:o}},fitBounds:function(t,i){if(!(t=R(t)).isValid())throw new Error("Bounds are not valid.");t=this._getBoundsCenterZoom(t,i);return this.setView(t.center,t.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){return i=i||{},(t=A(t).round()).x||t.y?(!0===i.animate||this.getSize().contains(t)?(this._panAnim||(this._panAnim=new Ni,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),!1!==i.animate?(si(this._mapPane,"leaflet-pan-anim"),e=this._getMapPanePos().subtract(t).round(),this._panAnim.run(this._mapPane,e,i.duration||.25,i.easeLinearity)):(this._rawPanBy(t),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this):this.fire("moveend");var e},flyTo:function(n,o,t){if(!1===(t=t||{}).animate||!mt)return this.setView(n,o,t);this._stop();var s=this.project(this.getCenter()),a=this.project(n),i=this.getSize(),r=this._zoom;n=U(n),o=void 0===o?r:o;var h=Math.max(i.x,i.y),e=h*this.getZoomScale(r,o),l=a.distanceTo(s)||1,u=1.42,c=u*u;function d(t){t=(e*e-h*h+(t?-1:1)*c*c*l*l)/(2*(t?e:h)*c*l),t=Math.sqrt(t*t+1)-t;return t<1e-9?-18:Math.log(t)}function _(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}var m=d(0);function f(t){return h*(p(m)*(_(t=m+u*t)/p(t))-_(m))/c}var g=Date.now(),v=(d(1)-m)/u,y=t.duration?1e3*t.duration:1e3*v*.8;return this._moveStart(!0,t.noMoveStart),function t(){var i=(Date.now()-g)/y,e=(1-Math.pow(1-i,1.5))*v;i<=1?(this._flyToFrame=M(t,this),this._move(this.unproject(s.add(a.subtract(s).multiplyBy(f(e)/l)),r),this.getScaleZoom(h/(h*(p(m)/p(m+u*e))),r),{flyTo:!0})):this._move(n,o)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,i){t=this._getBoundsCenterZoom(t,i);return this.flyTo(t.center,t.zoom,i)},setMaxBounds:function(t){return(t=R(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var e=this.getCenter(),t=this._limitCenter(e,this._zoom,R(t));return e.equals(t)||this.panTo(t,i),this._enforcingBounds=!1,this},panInside:function(t,i){var e=A((i=i||{}).paddingTopLeft||i.padding||[0,0]),n=A(i.paddingBottomRight||i.padding||[0,0]),o=this.getCenter(),s=this.project(o),a=this.project(t),r=this.getPixelBounds(),h=r.getSize().divideBy(2),o=I([r.min.add(e),r.max.subtract(n)]);return o.contains(a)||(this._enforcingBounds=!0,t=s.subtract(a),r=A(a.x+t.x,a.y+t.y),(a.x<o.min.x||a.x>o.max.x)&&(r.x=s.x-t.x,0<t.x?r.x+=h.x-e.x:r.x-=h.x-n.x),(a.y<o.min.y||a.y>o.max.y)&&(r.y=s.y-t.y,0<t.y?r.y+=h.y-e.y:r.y-=h.y-n.y),this.panTo(this.unproject(r),i),this._enforcingBounds=!1),this},invalidateSize:function(t){if(!this._loaded)return this;t=h({animate:!1,pan:!0},!0===t?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var e=this.getSize(),n=i.divideBy(2).round(),o=e.divideBy(2).round(),o=n.subtract(o);return o.x||o.y?(t.animate&&t.pan?this.panBy(o):(t.pan&&this._rawPanBy(o),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:e})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=h({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=d(this._handleGeolocationResponse,this),e=d(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,e,t):navigator.geolocation.getCurrentPosition(i,e,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var i=t.code,t=t.message||(1===i?"permission denied":2===i?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+t+"."})},_handleGeolocationResponse:function(t){var i,e=new N(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),o=this._locateOptions;o.setView&&(i=this.getBoundsZoom(n),this.setView(e,o.maxZoom?Math.min(i,o.maxZoom):i));var s,a={latlng:e,bounds:n,timestamp:t.timestamp};for(s in t.coords)"number"==typeof t.coords[s]&&(a[s]=t.coords[s]);this.fire("locationfound",a)},addHandler:function(t,i){if(!i)return this;i=this[t]=new i(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}for(var t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ti(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ti(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){i=Qt("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new Z(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,e){t=R(t),e=A(e||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),s=this.getMaxZoom(),a=t.getNorthWest(),r=t.getSouthEast(),t=this.getSize().subtract(e),e=I(this.project(r,n),this.project(a,n)).getSize(),r=mt?this.options.zoomSnap:1,a=t.x/e.x,e=t.y/e.y,e=i?Math.max(a,e):Math.min(a,e),n=this.getScaleZoom(e,n);return r&&(n=Math.round(n/(r/100))*(r/100),n=i?Math.ceil(n/r)*r:Math.floor(n/r)*r),Math.max(o,Math.min(s,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new k(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){i=this._getTopLeftPoint(t,i);return new O(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var e=this.options.crs;return i=void 0===i?this._zoom:i,e.scale(t)/e.scale(i)},getScaleZoom:function(t,i){var e=this.options.crs;i=void 0===i?this._zoom:i;i=e.zoom(t*e.scale(i));return isNaN(i)?1/0:i},project:function(t,i){return i=void 0===i?this._zoom:i,this.options.crs.latLngToPoint(U(t),i)},unproject:function(t,i){return i=void 0===i?this._zoom:i,this.options.crs.pointToLatLng(A(t),i)},layerPointToLatLng:function(t){t=A(t).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(t){return this.project(U(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(U(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(R(t))},distance:function(t,i){return this.options.crs.distance(U(t),U(i))},containerPointToLayerPoint:function(t){return A(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return A(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){t=this.containerPointToLayerPoint(A(t));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(t)))},mouseEventToContainerPoint:function(t){return ki(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){t=this._container=Xt(t);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Li(t,"scroll",this._onScroll,this),this._containerId=m(t)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&mt,si(t,"leaflet-container"+(Lt?" leaflet-touch":"")+(Pt?" leaflet-retina":"")+($?" leaflet-oldie":"")+(ht?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=$t(t,"position");"absolute"!==i&&"relative"!==i&&"fixed"!==i&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),di(this._mapPane,new k(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(si(t.markerPane,"leaflet-zoom-hide"),si(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i){di(this._mapPane,new k(0,0));var e=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var n=this._zoom!==i;this._moveStart(n,!1)._move(t,i)._moveEnd(n),this.fire("viewreset"),e&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,e){void 0===i&&(i=this._zoom);var n=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||e&&e.pinch)&&this.fire("zoom",e),this.fire("move",e)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){di(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var i=t?Pi:Li;i((this._targets[m(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),mt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=M(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var e,n=[],o="mouseout"===i||"mouseover"===i,s=t.target||t.srcElement,a=!1;s;){if((e=this._targets[m(s)])&&("click"===i||"preclick"===i)&&!t._simulated&&this._draggableMoved(e)){a=!0;break}if(e&&e.listens(i,!0)){if(o&&!Ri(s,t))break;if(n.push(e),o)break}if(s===this._container)break;s=s.parentNode}return n=!(n.length||a||o)&&Ri(s,t)?[this]:n},_handleDOMEvent:function(t){var i;this._loaded&&!Zi(t)&&("mousedown"!==(i=t.type)&&"keypress"!==i&&"keyup"!==i&&"keydown"!==i||fi(t.target||t.srcElement),this._fireDOMEvent(t,i))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,e){if("click"===t.type&&((o=h({},t)).type="preclick",this._fireDOMEvent(o,o.type,e)),!t._stopped&&(e=(e||[]).concat(this._findEventTargets(t,i))).length){var n=e[0];"contextmenu"===i&&n.listens(i,!0)&&zi(t);var o,s={originalEvent:t};"keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type&&(o=n.getLatLng&&(!n._radius||n._radius<=10),s.containerPoint=o?this.latLngToContainerPoint(n.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=o?n.getLatLng():this.layerPointToLatLng(s.layerPoint));for(var a=0;a<e.length;a++)if(e[a].fire(i,s,!0),s.originalEvent._stopped||!1===e[a].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,i))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return _i(this._mapPane)||new k(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){return(t&&void 0!==i?this._getNewPixelOrigin(t,i):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var e=this.getSize()._divideBy(2);return this.project(t,i)._subtract(e)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,e){e=this._getNewPixelOrigin(e,i);return this.project(t,i)._subtract(e)},_latLngBoundsToNewLayerBounds:function(t,i,e){e=this._getNewPixelOrigin(e,i);return I([this.project(t.getSouthWest(),i)._subtract(e),this.project(t.getNorthWest(),i)._subtract(e),this.project(t.getSouthEast(),i)._subtract(e),this.project(t.getNorthEast(),i)._subtract(e)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,e){if(!e)return t;var n=this.project(t,i),o=this.getSize().divideBy(2),o=new O(n.subtract(o),n.add(o)),e=this._getBoundsOffset(o,e,i);return e.round().equals([0,0])?t:this.unproject(n.add(e),i)},_limitOffset:function(t,i){if(!i)return t;var e=this.getPixelBounds(),e=new O(e.min.add(t),e.max.add(t));return t.add(this._getBoundsOffset(e,i))},_getBoundsOffset:function(t,i,e){i=I(this.project(i.getNorthEast(),e),this.project(i.getSouthWest(),e)),e=i.min.subtract(t.min),t=i.max.subtract(t.max);return new k(this._rebound(e.x,-t.x),this._rebound(e.y,-t.y))},_rebound:function(t,i){return 0<t+i?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),e=this.getMaxZoom(),n=mt?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(i,Math.min(e,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ai(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){t=this._getCenterOffset(t)._trunc();return!(!0!==(i&&i.animate)&&!this.getSize().contains(t))&&(this.panBy(t,i),!0)},_createAnimProxy:function(){var t=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var i=Jt,e=this._proxy.style[i];ci(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),e===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ti(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();ci(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,e){if(this._animatingZoom)return!0;if(e=e||{},!this._zoomAnimated||!1===e.animate||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(i),n=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==e.animate&&!this.getSize().contains(n))&&(M(function(){this._moveStart(!0,!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,e,n){this._mapPane&&(e&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,si(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:n}),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ai(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),M(function(){this._moveEnd(!0)},this))}});var ji=S.extend({options:{position:"topright"},initialize:function(t){c(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),e=this.getPosition(),t=t._controlCorners[e];return si(i,"leaflet-control"),-1!==e.indexOf("bottom")?t.insertBefore(i,t.firstChild):t.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(ti(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}}),_t=function(t){return new ji(t)};Ui.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var e=this._controlCorners={},n="leaflet-",o=this._controlContainer=Qt("div",n+"control-container",this._container);function t(t,i){e[t+i]=Qt("div",n+t+" "+n+i,o)}t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ti(this._controlCorners[t]);ti(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Wi=ji.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,e,n){return e<n?-1:n<e?1:0}},initialize:function(t,i,e){for(var n in c(this,e),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in i)this._addLayer(i[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return ji.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);t=this._getLayer(m(t));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){si(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(si(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ai(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ai(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=Qt("div",t),e=this.options.collapsed;i.setAttribute("aria-haspopup",!0),Si(i),Ei(i);var n=this._section=Qt("section",t+"-list");e&&(this._map.on("click",this.collapse,this),it||Li(i,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=Qt("a",t+"-toggle",i);o.href="#",o.title="Layers",Lt?(Li(o,"click",Di),Li(o,"click",this.expand,this)):Li(o,"focus",this.expand,this),e||this.expand(),this._baseLayersList=Qt("div",t+"-base",n),this._separator=Qt("div",t+"-separator",n),this._overlaysList=Qt("div",t+"-overlays",n),i.appendChild(n)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&m(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,e){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:e}),this.options.sortLayers&&this._layers.sort(d(function(t,i){return this.options.sortFunction(t.layer,i.layer,t.name,i.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ii(this._baseLayersList),ii(this._overlaysList),this._layerControlInputs=[];for(var t,i,e,n=0,o=0;o<this._layers.length;o++)e=this._layers[o],this._addItem(e),i=i||e.overlay,t=t||!e.overlay,n+=e.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(t=t&&1<n)?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(m(t.target)),t=i.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;t&&this._map.fire(t,i)},_createRadioElement:function(t,i){t='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=t,i.firstChild},_addItem:function(t){var i,e=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((i=document.createElement("input")).type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=n):i=this._createRadioElement("leaflet-base-layers_"+m(this),n),this._layerControlInputs.push(i),i.layerId=m(t.layer),Li(i,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;n=document.createElement("div");return e.appendChild(n),n.appendChild(i),n.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){var t,i,e=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var s=e.length-1;0<=s;s--)t=e[s],i=this._getLayer(t.layerId).layer,t.checked?n.push(i):t.checked||o.push(i);for(s=0;s<o.length;s++)this._map.hasLayer(o[s])&&this._map.removeLayer(o[s]);for(s=0;s<n.length;s++)this._map.hasLayer(n[s])||this._map.addLayer(n[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,i,e=this._layerControlInputs,n=this._map.getZoom(),o=e.length-1;0<=o;o--)t=e[o],i=this._getLayer(t.layerId).layer,t.disabled=void 0!==i.options.minZoom&&n<i.options.minZoom||void 0!==i.options.maxZoom&&n>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Hi=ji.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",e=Qt("div",i+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,i+"-in",e,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,i+"-out",e,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),e},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,e,n,o){n=Qt("a",e,n);return n.innerHTML=t,n.href="#",n.title=i,n.setAttribute("role","button"),n.setAttribute("aria-label",i),Si(n),Li(n,"click",Di),Li(n,"click",o,this),Li(n,"click",this._refocusOnMap,this),n},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";ai(this._zoomInButton,i),ai(this._zoomOutButton,i),!this._disabled&&t._zoom!==t.getMinZoom()||si(this._zoomOutButton,i),!this._disabled&&t._zoom!==t.getMaxZoom()||si(this._zoomInButton,i)}});Ui.mergeOptions({zoomControl:!0}),Ui.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hi,this.addControl(this.zoomControl))});var Fi=ji.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",e=Qt("div",i),n=this.options;return this._addScales(n,i+"-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,e){t.metric&&(this._mScale=Qt("div",i,e)),t.imperial&&(this._iScale=Qt("div",i,e))},_update:function(){var t=this._map,i=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t);this._updateScale(this._mScale,i<1e3?i+" m":i/1e3+" km",i/t)},_updateImperial:function(t){var i,e=3.2808399*t;5280<e?(t=this._getRoundNum(i=e/5280),this._updateScale(this._iScale,t+" mi",t/i)):(i=this._getRoundNum(e),this._updateScale(this._iScale,i+" ft",i/e))},_updateScale:function(t,i,e){t.style.width=Math.round(this.options.maxWidth*e)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),t=t/i;return i*(t=10<=t?10:5<=t?5:3<=t?3:2<=t?2:1)}}),Vi=ji.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){c(this,t),this._attributions={}},onAdd:function(t){for(var i in(t.attributionControl=this)._container=Qt("div","leaflet-control-attribution"),Si(this._container),t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t,i=[];for(t in this._attributions)this._attributions[t]&&i.push(t);var e=[];this.options.prefix&&e.push(this.options.prefix),i.length&&e.push(i.join(", ")),this._container.innerHTML=e.join(" | ")}}});Ui.mergeOptions({attributionControl:!0}),Ui.addInitHook(function(){this.options.attributionControl&&(new Vi).addTo(this)});ji.Layers=Wi,ji.Zoom=Hi,ji.Scale=Fi,ji.Attribution=Vi,_t.layers=function(t,i,e){return new Wi(t,i,e)},_t.zoom=function(t){return new Hi(t)},_t.scale=function(t){return new Fi(t)},_t.attribution=function(t){return new Vi(t)};pt=S.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});pt.addTo=function(t,i){return t.addHandler(i,this),this};var Gi,gt={Events:z},qi=Lt?"touchstart mousedown":"mousedown",Ji={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Ki={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Yi=D.extend({options:{clickTolerance:3},initialize:function(t,i,e,n){c(this,n),this._element=t,this._dragStartTarget=i||t,this._preventOutline=e},enable:function(){this._enabled||(Li(this._dragStartTarget,qi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yi._dragging===this&&this.finishDrag(),Pi(this._dragStartTarget,qi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){var i,e;!t._simulated&&this._enabled&&(this._moved=!1,oi(this._element,"leaflet-zoom-anim")||Yi._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((Yi._dragging=this)._preventOutline&&fi(this._element),pi(),Ft(),this._moving||(this.fire("down"),i=t.touches?t.touches[0]:t,e=vi(this._element),this._startPoint=new k(i.clientX,i.clientY),this._parentScale=yi(e),Li(document,Ki[t.type],this._onMove,this),Li(document,Ji[t.type],this._onUp,this))))},_onMove:function(t){var i;!t._simulated&&this._enabled&&(t.touches&&1<t.touches.length?this._moved=!0:((i=new k((i=t.touches&&1===t.touches.length?t.touches[0]:t).clientX,i.clientY)._subtract(this._startPoint)).x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,zi(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=_i(this._element).subtract(i),si(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),si(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,C(this._animRequest),this._lastEvent=t,this._animRequest=M(this._updatePosition,this,!0))))},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),di(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in ai(document.body,"leaflet-dragging"),this._lastTarget&&(ai(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ki)Pi(document,Ki[t],this._onMove,this),Pi(document,Ji[t],this._onUp,this);mi(),Vt(),this._moved&&this._moving&&(C(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Yi._dragging=!1}});function Xi(t,i){if(!i||!t.length)return t.slice();i*=i;return t=function(t,i){var e=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(e);n[0]=n[e-1]=1,function t(i,e,n,o,s){var a,r,h,l=0;for(r=o+1;r<=s-1;r++)h=ee(i[r],i[o],i[s],!0),l<h&&(a=r,l=h);n<l&&(e[a]=1,t(i,e,n,o,a),t(i,e,n,a,s))}(t,n,i,0,e-1);var o,s=[];for(o=0;o<e;o++)n[o]&&s.push(t[o]);return s}(t=function(t,i){for(var e=[t[0]],n=1,o=0,s=t.length;n<s;n++)(function(t,i){var e=i.x-t.x,t=i.y-t.y;return e*e+t*t})(t[n],t[o])>i&&(e.push(t[n]),o=n);o<s-1&&e.push(t[s-1]);return e}(t,i),i)}function $i(t,i,e){return Math.sqrt(ee(t,i,e,!0))}function Qi(t,i,e,n,o){var s,a,r,h=n?Gi:ie(t,e),l=ie(i,e);for(Gi=l;;){if(!(h|l))return[t,i];if(h&l)return!1;r=ie(a=te(t,i,s=h||l,e,o),e),s===h?(t=a,h=r):(i=a,l=r)}}function te(t,i,e,n,o){var s,a,r=i.x-t.x,h=i.y-t.y,i=n.min,n=n.max;return 8&e?(s=t.x+r*(n.y-t.y)/h,a=n.y):4&e?(s=t.x+r*(i.y-t.y)/h,a=i.y):2&e?(s=n.x,a=t.y+h*(n.x-t.x)/r):1&e&&(s=i.x,a=t.y+h*(i.x-t.x)/r),new k(s,a,o)}function ie(t,i){var e=0;return t.x<i.min.x?e|=1:t.x>i.max.x&&(e|=2),t.y<i.min.y?e|=4:t.y>i.max.y&&(e|=8),e}function ee(t,i,e,n){var o=i.x,s=i.y,a=e.x-o,r=e.y-s,i=a*a+r*r;return 0<i&&(1<(i=((t.x-o)*a+(t.y-s)*r)/i)?(o=e.x,s=e.y):0<i&&(o+=a*i,s+=r*i)),a=t.x-o,r=t.y-s,n?a*a+r*r:new k(o,s)}function ne(t){return!g(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function oe(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ne(t)}vt={simplify:Xi,pointToSegmentDistance:$i,closestPointOnSegment:function(t,i,e){return ee(t,i,e)},clipSegment:Qi,_getEdgeIntersection:te,_getBitCode:ie,_sqClosestPointOnSegment:ee,isFlat:ne,_flat:oe};function se(t,i,e){for(var n,o,s,a,r,h,l,u=[1,4,2,8],c=0,d=t.length;c<d;c++)t[c]._code=ie(t[c],i);for(s=0;s<4;s++){for(h=u[s],n=[],c=0,o=(d=t.length)-1;c<d;o=c++)a=t[c],r=t[o],a._code&h?r._code&h||((l=te(r,a,h,i,e))._code=ie(l,i),n.push(l)):(r._code&h&&((l=te(r,a,h,i,e))._code=ie(l,i),n.push(l)),n.push(a));t=n}return t}var Y={clipPolygon:se},nt={project:function(t){return new k(t.lng,t.lat)},unproject:function(t){return new N(t.y,t.x)},bounds:new O([-180,-90],[180,90])},ct={R:6378137,R_MINOR:6356752.314245179,bounds:new O([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var i=Math.PI/180,e=this.R,n=t.lat*i,o=this.R_MINOR/e,s=Math.sqrt(1-o*o),o=s*Math.sin(n),s=Math.tan(Math.PI/4-n/2)/Math.pow((1-o)/(1+o),s/2),n=-e*Math.log(Math.max(s,1e-10));return new k(t.lng*i*e,n)},unproject:function(t){for(var i,e=180/Math.PI,n=this.R,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),a=Math.exp(-t.y/n),r=Math.PI/2-2*Math.atan(a),h=0,l=.1;h<15&&1e-7<Math.abs(l);h++)i=s*Math.sin(r),i=Math.pow((1-i)/(1+i),s/2),r+=l=Math.PI/2-2*Math.atan(a*i)-r;return new N(r*e,t.x*e/n)}},at={LonLat:nt,Mercator:ct,SphericalMercator:H},z=h({},W,{code:"EPSG:3395",projection:ct,transformation:V(rt=.5/(Math.PI*ct.R),.5,-rt,.5)}),ae=h({},W,{code:"EPSG:4326",projection:nt,transformation:V(1/180,1,-1/180,.5)}),H=h({},j,{projection:nt,transformation:V(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var e=i.lng-t.lng,t=i.lat-t.lat;return Math.sqrt(e*e+t*t)},infinite:!0});j.Earth=W,j.EPSG3395=z,j.EPSG3857=G,j.EPSG900913=q,j.EPSG4326=ae,j.Simple=H;var re=D.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[m(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[m(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i,e=t.target;e.hasLayer(this)&&(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents&&(i=this.getEvents(),e.on(i,this),this.once("remove",function(){e.off(i,this)},this)),this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this}))}});Ui.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=m(t);return this._layers[i]||((this._layers[i]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var i=m(t);return this._layers[i]&&(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return!!t&&m(t)in this._layers},eachLayer:function(t,i){for(var e in this._layers)t.call(i,this._layers[e]);return this},_addLayers:function(t){for(var i=0,e=(t=t?g(t)?t:[t]:[]).length;i<e;i++)this.addLayer(t[i])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[m(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){t=m(t);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var t,i=1/0,e=-1/0,n=this._getZoomSpan();for(t in this._zoomBoundLayers)var o=this._zoomBoundLayers[t].options,i=void 0===o.minZoom?i:Math.min(i,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom);this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=i===1/0?void 0:i,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var he=re.extend({initialize:function(t,i){var e,n;if(c(this,i),this._layers={},t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){t=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i,e,n=Array.prototype.slice.call(arguments,1);for(i in this._layers)(e=this._layers[i])[t]&&e[t].apply(e,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var e in this._layers)t.call(i,this._layers[e]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:m}),le=he.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),he.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?((t=t in this._layers?this._layers[t]:t).removeEventParent(this),he.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t,i=new Z;for(t in this._layers){var e=this._layers[t];i.extend(e.getBounds?e.getBounds():e.getLatLng())}return i}}),ue=S.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){c(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var e=this._getIconUrl(t);if(!e){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}i=this._createImg(e,i&&"IMG"===i.tagName?i:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,i){var e=this.options,n=e[i+"Size"],o=A(n="number"==typeof n?[n,n]:n),n=A("shadow"===i&&e.shadowAnchor||e.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(e.className||""),n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,i){return(i=i||document.createElement("img")).src=t,i},_getIconUrl:function(t){return Pt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});var ce=ue.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return ce.imagePath||(ce.imagePath=this._detectIconPath()),(this.options.imagePath||ce.imagePath)+ue.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=Qt("div","leaflet-default-icon-path",document.body),i=$t(t,"background-image")||$t(t,"backgroundImage");return document.body.removeChild(t),i=null===i||0!==i.indexOf("url")?"":i.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),de=pt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Yi(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),si(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ai(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,e=i._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,s=_i(i._icon),a=e.getPixelBounds(),r=e.getPixelOrigin(),o=I(a.min._subtract(r).add(o),a.max._subtract(r).subtract(o));o.contains(s)||(n=A((Math.max(o.max.x,s.x)-o.max.x)/(a.max.x-o.max.x)-(Math.min(o.min.x,s.x)-o.min.x)/(a.min.x-o.min.x),(Math.max(o.max.y,s.y)-o.max.y)/(a.max.y-o.max.y)-(Math.min(o.min.y,s.y)-o.min.y)/(a.min.y-o.min.y)).multiplyBy(n),e.panBy(n,{animate:!1}),this._draggable._newPos._add(n),this._draggable._startPos._add(n),di(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=M(this._adjustPan.bind(this,t)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,e=i._shadow,n=_i(i._icon),o=i._map.layerPointToLatLng(n);e&&di(e,n),i._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),_e=re.extend({options:{icon:new ce,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){c(this,i),this._latlng=U(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=U(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var t;return this._icon&&this._map&&(t=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(t)),this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),e=t.icon.createIcon(this._icon),n=!1;e!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(e.title=t.title),"IMG"===e.tagName&&(e.alt=t.alt||"")),si(e,i),t.keyboard&&(e.tabIndex="0"),this._icon=e,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),e=!1;o!==this._shadow&&(this._removeShadow(),e=!0),o&&(si(o,i),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&e&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ti(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ti(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&di(this._icon,t),this._shadow&&di(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(t)},_initInteraction:function(){var t;this.options.interactive&&(si(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),de&&(t=this.options.draggable,this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new de(this),t&&this.dragging.enable()))},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&li(this._icon,t),this._shadow&&li(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var pe=re.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return c(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),me=pe.extend({options:{fill:!0,radius:10},initialize:function(t,i){c(this,i),this._latlng=U(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=U(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return pe.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,e=this._clickTolerance(),e=[t+e,i+e];this._pxBounds=new O(this._point.subtract(e),this._point.add(e))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var fe=me.extend({initialize:function(t,i,e){if(c(this,i="number"==typeof i?h({},e,{radius:i}):i),this._latlng=U(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:pe.prototype.setStyle,_project:function(){var t,i,e,n,o,s=this._latlng.lng,a=this._latlng.lat,r=this._map,h=r.options.crs;h.distance===W.distance?(o=Math.PI/180,t=this._mRadius/W.R/o,i=r.project([a+t,s]),n=r.project([a-t,s]),e=i.add(n).divideBy(2),n=r.unproject(e).lat,o=Math.acos((Math.cos(t*o)-Math.sin(a*o)*Math.sin(n*o))/(Math.cos(a*o)*Math.cos(n*o)))/o,!isNaN(o)&&0!==o||(o=t/Math.cos(Math.PI/180*a)),this._point=e.subtract(r.getPixelOrigin()),this._radius=isNaN(o)?0:e.x-r.project([n,s-o]).x,this._radiusY=e.y-i.y):(h=h.unproject(h.project(this._latlng).subtract([this._mRadius,0])),this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(h).x),this._updateBounds()}});var ge=pe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){c(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,e=null,n=ee,o=0,s=this._parts.length;o<s;o++)for(var a=this._parts[o],r=1,h=a.length;r<h;r++){var l,u,c=n(t,l=a[r-1],u=a[r],!0);c<i&&(i=c,e=n(t,l,u))}return e&&(e.distance=Math.sqrt(i)),e},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,i,e,n,o,s,a=this._rings[0],r=a.length;if(!r)return null;for(i=t=0;t<r-1;t++)i+=a[t].distanceTo(a[t+1])/2;if(0===i)return this._map.layerPointToLatLng(a[0]);for(e=t=0;t<r-1;t++)if(n=a[t],o=a[t+1],i<(e+=s=n.distanceTo(o)))return this._map.layerPointToLatLng([o.x-(s=(e-i)/s)*(o.x-n.x),o.y-s*(o.y-n.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=U(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Z,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return ne(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],e=ne(t),n=0,o=t.length;n<o;n++)e?(i[n]=U(t[n]),this._bounds.extend(i[n])):i[n]=this._convertLatLngs(t[n]);return i},_project:function(){var t=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),t=new k(t,t);this._pxBounds=new O([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)])},_projectLatlngs:function(t,i,e){var n,o,s=t[0]instanceof N,a=t.length;if(s){for(o=[],n=0;n<a;n++)o[n]=this._map.latLngToLayerPoint(t[n]),e.extend(o[n]);i.push(o)}else for(n=0;n<a;n++)this._projectLatlngs(t[n],i,e)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,e,n,o,s=this._parts,a=0,r=0,h=this._rings.length;a<h;a++)for(i=0,e=(o=this._rings[a]).length;i<e-1;i++)(n=Qi(o[i],o[i+1],t,i,!0))&&(s[r]=s[r]||[],s[r].push(n[0]),n[1]===o[i+1]&&i!==e-2||(s[r].push(n[1]),r++))},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,e=0,n=t.length;e<n;e++)t[e]=Xi(t[e],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var e,n,o,s,a,r,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(e=0,s=this._parts.length;e<s;e++)for(n=0,o=(a=(r=this._parts[e]).length)-1;n<a;o=n++)if((i||0!==n)&&$i(t,r[o],r[n])<=h)return!0;return!1}});ge._flat=oe;var ve=ge.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,i,e,n,o,s,a,r,h,l=this._rings[0],u=l.length;if(!u)return null;for(t=s=a=r=0,i=u-1;t<u;i=t++)e=l[t],n=l[i],o=e.y*n.x-n.y*e.x,a+=(e.x+n.x)*o,r+=(e.y+n.y)*o,s+=3*o;return h=0===s?l[0]:[a/s,r/s],this._map.layerPointToLatLng(h)},_convertLatLngs:function(t){var i=ge.prototype._convertLatLngs.call(this,t),t=i.length;return 2<=t&&i[0]instanceof N&&i[0].equals(i[t-1])&&i.pop(),i},_setLatLngs:function(t){ge.prototype._setLatLngs.call(this,t),ne(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(ne(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,i=new k(i,i),t=new O(t.min.subtract(i),t.max.add(i));if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var e,n=0,o=this._rings.length;n<o;n++)(e=se(this._rings[n],t,!0)).length&&this._parts.push(e)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i,e,n,o,s,a,r,h,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,r=this._parts.length;o<r;o++)for(s=0,a=(h=(i=this._parts[o]).length)-1;s<h;a=s++)e=i[s],n=i[a],e.y>t.y!=n.y>t.y&&t.x<(n.x-e.x)*(t.y-e.y)/(n.y-e.y)+e.x&&(l=!l);return l||ge.prototype._containsPoint.call(this,t,!0)}});var ye=le.extend({initialize:function(t,i){c(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i,e,n,o=g(t)?t:t.features;if(o){for(i=0,e=o.length;i<e;i++)((n=o[i]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var a=Le(t,s);return a?(a.feature=Ce(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=h({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(t){this._setLayerStyle(t,i)},this)},_setLayerStyle:function(t,i){t.setStyle&&("function"==typeof i&&(i=i(t.feature)),t.setStyle(i))}});function Le(t,i){var e,n,o,s,a="Feature"===t.type?t.geometry:t,r=a?a.coordinates:null,h=[],l=i&&i.pointToLayer,u=i&&i.coordsToLatLng||Pe;if(!r&&!a)return null;switch(a.type){case"Point":return xe(l,t,e=u(r),i);case"MultiPoint":for(o=0,s=r.length;o<s;o++)e=u(r[o]),h.push(xe(l,t,e,i));return new le(h);case"LineString":case"MultiLineString":return n=we(r,"LineString"===a.type?0:1,u),new ge(n,i);case"Polygon":case"MultiPolygon":return n=we(r,"Polygon"===a.type?1:2,u),new ve(n,i);case"GeometryCollection":for(o=0,s=a.geometries.length;o<s;o++){var c=Le({geometry:a.geometries[o],type:"Feature",properties:t.properties},i);c&&h.push(c)}return new le(h);default:throw new Error("Invalid GeoJSON object.")}}function xe(t,i,e,n){return t?t(i,e):new _e(e,n&&n.markersInheritOptions&&n)}function Pe(t){return new N(t[1],t[0],t[2])}function we(t,i,e){for(var n,o=[],s=0,a=t.length;s<a;s++)n=i?we(t[s],i-1,e):(e||Pe)(t[s]),o.push(n);return o}function be(t,i){return i="number"==typeof i?i:6,void 0!==t.alt?[a(t.lng,i),a(t.lat,i),a(t.alt,i)]:[a(t.lng,i),a(t.lat,i)]}function Te(t,i,e,n){for(var o=[],s=0,a=t.length;s<a;s++)o.push(i?Te(t[s],i-1,e,n):be(t[s],n));return!i&&e&&o.push(o[0]),o}function Me(t,i){return t.feature?h({},t.feature,{geometry:i}):Ce(i)}function Ce(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}ct={toGeoJSON:function(t){return Me(this,{type:"Point",coordinates:be(this.getLatLng(),t)})}};function Ee(t,i){return new ye(t,i)}_e.include(ct),fe.include(ct),me.include(ct),ge.include({toGeoJSON:function(t){var i=!ne(this._latlngs);return Me(this,{type:(i?"Multi":"")+"LineString",coordinates:Te(this._latlngs,i?1:0,!1,t)})}}),ve.include({toGeoJSON:function(t){var i=!ne(this._latlngs),e=i&&!ne(this._latlngs[0]),t=Te(this._latlngs,e?2:i?1:0,!0,t);return Me(this,{type:(e?"Multi":"")+"Polygon",coordinates:t=!i?[t]:t})}}),he.include({toMultiPoint:function(i){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON(i).geometry.coordinates)}),Me(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(i){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(i);var e="GeometryCollection"===t,n=[];return this.eachLayer(function(t){t.toGeoJSON&&(t=t.toGeoJSON(i),e?n.push(t.geometry):"FeatureCollection"===(t=Ce(t)).type?n.push.apply(n,t.features):n.push(t))}),e?Me(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var rt=Ee,Se=re.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,e){this._url=t,this._bounds=R(i),c(this,e)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(si(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ti(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ei(this._image),this},bringToBack:function(){return this._map&&ni(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=R(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,i=this._image=t?this._url:Qt("img");si(i,"leaflet-image-layer"),this._zoomAnimated&&si(i,"leaflet-zoom-animated"),this.options.className&&si(i,this.options.className),i.onselectstart=r,i.onmousemove=r,i.onload=d(this.fire,this,"load"),i.onerror=d(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=i.src:(i.src=this._url,i.alt=this.options.alt)},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),t=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ci(this._image,t,i)},_reset:function(){var t=this._image,i=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),e=i.getSize();di(t,i.min),t.style.width=e.x+"px",t.style.height=e.y+"px"},_updateOpacity:function(){li(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),ze=Se.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,i=this._image=t?this._url:Qt("video");if(si(i,"leaflet-image-layer"),this._zoomAnimated&&si(i,"leaflet-zoom-animated"),this.options.className&&si(i,this.options.className),i.onselectstart=r,i.onmousemove=r,i.onloadeddata=d(this.fire,this,"load"),t){for(var e=i.getElementsByTagName("source"),n=[],o=0;o<e.length;o++)n.push(e[o].src);this._url=0<e.length?n:[i.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted;for(var s=0;s<this._url.length;s++){var a=Qt("source");a.src=this._url[s],i.appendChild(a)}}}});var De=Se.extend({_initImage:function(){var t=this._image=this._url;si(t,"leaflet-image-layer"),this._zoomAnimated&&si(t,"leaflet-zoom-animated"),this.options.className&&si(t,this.options.className),t.onselectstart=r,t.onmousemove=r}});var ke=re.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,i){c(this,t),this._source=i},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&li(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&li(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(li(this._container,0),this._removeTimeout=setTimeout(d(ti,void 0,this._container),200)):ti(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=U(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ei(this._container),this},bringToBack:function(){return this._map&&ni(this._container),this},_prepareOpen:function(t,i,e){if(i instanceof re||(e=i,i=t),i instanceof le)for(var n in t._layers){i=t._layers[n];break}if(!e)if(i.getCenter)e=i.getCenter();else{if(!i.getLatLng)throw new Error("Unable to get source layer LatLng.");e=i.getLatLng()}return this._source=i,this.update(),e},_updateContent:function(){if(this._content){var t=this._contentNode,i="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof i)t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){var t,i,e;this._map&&(t=this._map.latLngToLayerPoint(this._latlng),e=A(this.options.offset),i=this._getAnchor(),this._zoomAnimated?di(this._container,t.add(i)):e=e.add(t).add(i),i=this._containerBottom=-e.y,e=this._containerLeft=-Math.round(this._containerWidth/2)+e.x,this._container.style.bottom=i+"px",this._container.style.left=e+"px")},_getAnchor:function(){return[0,0]}}),Be=ke.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){ke.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof pe||this._source.on("preclick",Ci))},onRemove:function(t){ke.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof pe||this._source.off("preclick",Ci))},getEvents:function(){var t=ke.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",i=this._container=Qt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),e=this._wrapper=Qt("div",t+"-content-wrapper",i);this._contentNode=Qt("div",t+"-content",e),Si(i),Ei(this._contentNode),Li(i,"contextmenu",Ci),this._tipContainer=Qt("div",t+"-tip-container",i),this._tip=Qt("div",t+"-tip",this._tipContainer),this.options.closeButton&&((i=this._closeButton=Qt("a",t+"-close-button",i)).href="#close",i.innerHTML="&#215;",Li(i,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var e=t.offsetWidth,e=Math.min(e,this.options.maxWidth);e=Math.max(e,this.options.minWidth),i.width=e+1+"px",i.whiteSpace="",i.height="";var n=t.offsetHeight,o=this.options.maxHeight,e="leaflet-popup-scrolled";o&&o<n?(i.height=o+"px",si(t,e)):ai(t,e),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),t=this._getAnchor();di(this._container,i.add(t))},_adjustPan:function(){var t,i,e,n,o,s,a,r;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),t=this._map,o=parseInt($t(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+o,r=this._containerWidth,(s=new k(this._containerLeft,-i-this._containerBottom))._add(_i(this._container)),e=t.layerPointToContainerPoint(s),a=A(this.options.autoPanPadding),n=A(this.options.autoPanPaddingTopLeft||a),o=A(this.options.autoPanPaddingBottomRight||a),s=t.getSize(),a=0,e.x+r+o.x>s.x&&(a=e.x+r-s.x+o.x),e.x-a-n.x<(r=0)&&(a=e.x-n.x),e.y+i+o.y>s.y&&(r=e.y+i-s.y+o.y),e.y-r-n.y<0&&(r=e.y-n.y),(a||r)&&t.fire("autopanstart").panBy([a,r]))},_onCloseButtonClick:function(t){this._close(),Di(t)},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ui.mergeOptions({closePopupOnClick:!0}),Ui.include({openPopup:function(t,i,e){return t instanceof Be||(t=new Be(e).setContent(t)),i&&t.setLatLng(i),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),re.include({bindPopup:function(t,i){return t instanceof Be?(c(t,i),(this._popup=t)._source=this):(this._popup&&!i||(this._popup=new Be(i,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,i){return this._popup&&this._map&&(i=this._popup._prepareOpen(this,t,i),this._map.openPopup(this._popup,i)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var i=t.layer||t.target;this._popup&&this._map&&(Di(t),i instanceof pe?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===i?this.closePopup():this.openPopup(i,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ae=ke.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){ke.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){ke.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=ke.prototype.getEvents.call(this);return Lt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,e=this._map,n=this._container,o=e.latLngToContainerPoint(e.getCenter()),s=e.layerPointToContainerPoint(t),a=this.options.direction,r=n.offsetWidth,h=n.offsetHeight,l=A(this.options.offset),e=this._getAnchor(),h="top"===a?(i=r/2,h):"bottom"===a?(i=r/2,0):(i="center"===a?r/2:"right"===a?0:"left"===a?r:s.x<o.x?(a="right",0):(a="left",r+2*(l.x+e.x)),h/2);t=t.subtract(A(i,h,!0)).add(l).add(e),ai(n,"leaflet-tooltip-right"),ai(n,"leaflet-tooltip-left"),ai(n,"leaflet-tooltip-top"),ai(n,"leaflet-tooltip-bottom"),si(n,"leaflet-tooltip-"+a),di(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&li(this._container,t)},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(t)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ui.include({openTooltip:function(t,i,e){return t instanceof Ae||(t=new Ae(e).setContent(t)),i&&t.setLatLng(i),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),re.include({bindTooltip:function(t,i){return t instanceof Ae?(c(t,i),(this._tooltip=t)._source=this):(this._tooltip&&!i||(this._tooltip=new Ae(i,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){var i,e;!t&&this._tooltipHandlersAdded||(i=t?"off":"on",e={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?e.add=this._openTooltip:(e.mouseover=this._openTooltip,e.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(e.mousemove=this._moveTooltip),Lt&&(e.click=this._openTooltip)),this[i](e),this._tooltipHandlersAdded=!t)},openTooltip:function(t,i){return this._tooltip&&this._map&&(i=this._tooltip._prepareOpen(this,t,i),this._map.openTooltip(this._tooltip,i),this._tooltip.options.interactive&&this._tooltip._container&&(si(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ai(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var i=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(i,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(t=this._map.mouseEventToContainerPoint(t.originalEvent),t=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(t)),this._tooltip.setLatLng(i)}});var Oe=ue.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&"DIV"===t.tagName?t:document.createElement("div"),t=this.options;return t.html instanceof Element?(ii(i),i.appendChild(t.html)):i.innerHTML=!1!==t.html?t.html:"",t.bgPos&&(t=A(t.bgPos),i.style.backgroundPosition=-t.x+"px "+-t.y+"px"),this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});ue.Default=ce;var Ie=re.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ft,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){c(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ti(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ei(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ni(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=n(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof k?t:new k(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i,e=this.getPane().children,n=-t(-1/0,1/0),o=0,s=e.length;o<s;o++)i=e[o].style.zIndex,e[o]!==this._container&&i&&(n=t(n,+i));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$){li(this._container,this.options.opacity);var t,i=+new Date,e=!1,n=!1;for(t in this._tiles){var o,s=this._tiles[t];s.current&&s.loaded&&(o=Math.min(1,(i-s.loaded)/200),li(s.el,o),o<1?e=!0:(s.active?n=!0:this._onOpaqueTile(s),s.active=!0))}n&&!this._noPrune&&this._pruneTiles(),e&&(C(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:r,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(void 0!==t){for(var e in this._levels)e=Number(e),this._levels[e].el.children.length||e===t?(this._levels[e].el.style.zIndex=i-Math.abs(t-e),this._onUpdateLevel(e)):(ti(this._levels[e].el),this._removeTilesAtZoom(e),this._onRemoveLevel(e),delete this._levels[e]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=i,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),r(n.el.offsetWidth),this._onCreateLevel(n)),this._level=n}},_onUpdateLevel:r,_onRemoveLevel:r,_onCreateLevel:r,_pruneTiles:function(){if(this._map){var t,i,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)(e=this._tiles[t]).current&&!e.active&&(i=e.coords,this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2));for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ti(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,e,n){var o=Math.floor(t/2),t=Math.floor(i/2),i=e-1,e=new k(+o,+t);e.z=+i;e=this._tileCoordsToKey(e),e=this._tiles[e];return e&&e.active?e.retain=!0:(e&&e.loaded&&(e.retain=!0),n<i&&this._retainParent(o,t,i,n))},_retainChildren:function(t,i,e,n){for(var o=2*t;o<2*t+2;o++)for(var s=2*i;s<2*i+2;s++){var a=new k(o,s);a.z=e+1;a=this._tileCoordsToKey(a),a=this._tiles[a];a&&a.active?a.retain=!0:(a&&a.loaded&&(a.retain=!0),e+1<n&&this._retainChildren(o,s,e+1,n))}},_resetView:function(t){t=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return void 0!==i.minNativeZoom&&t<i.minNativeZoom?i.minNativeZoom:void 0!==i.maxNativeZoom&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,e,n){var o=Math.round(i),o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o),s=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!s||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),e||this._pruneTiles(),this._noPrune=!!e),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var e in this._levels)this._setZoomTransform(this._levels[e],t,i)},_setZoomTransform:function(t,i,e){var n=this._map.getZoomScale(e,t.zoom),e=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(i,e)).round();mt?ci(t.el,e,n):di(t.el,e)},_resetGrid:function(){var t=this._map,i=t.options.crs,e=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],n).x/e.x),Math.ceil(t.project([0,i.wrapLng[1]],n).x/e.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],n).y/e.x),Math.ceil(t.project([i.wrapLat[1],0],n).y/e.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var i=this._map,e=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),e=i.getZoomScale(e,this._tileZoom),t=i.project(t,this._tileZoom).floor(),e=i.getSize().divideBy(2*e);return new O(t.subtract(e),t.add(e))},_update:function(t){var i=this._map;if(i){var e=this._clampZoom(i.getZoom());if(void 0===t&&(t=i.getCenter()),void 0!==this._tileZoom){var n,i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),s=o.getCenter(),a=[],i=this.options.keepBuffer,r=new O(o.getBottomLeft().subtract([i,-i]),o.getTopRight().add([i,-i]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(n in this._tiles){var h=this._tiles[n].coords;h.z===this._tileZoom&&r.contains(new k(h.x,h.y))||(this._tiles[n].current=!1)}if(1<Math.abs(e-this._tileZoom))this._setView(t,e);else{for(var l=o.min.y;l<=o.max.y;l++)for(var u=o.min.x;u<=o.max.x;u++){var c,d=new k(u,l);d.z=this._tileZoom,this._isValidTile(d)&&((c=this._tiles[this._tileCoordsToKey(d)])?c.current=!0:a.push(d))}if(a.sort(function(t,i){return t.distanceTo(s)-i.distanceTo(s)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));for(var _=document.createDocumentFragment(),u=0;u<a.length;u++)this._addTile(a[u],_);this._level.el.appendChild(_)}}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var e=this._globalTileRange;if(!i.wrapLng&&(t.x<e.min.x||t.x>e.max.x)||!i.wrapLat&&(t.y<e.min.y||t.y>e.max.y))return!1}if(!this.options.bounds)return!0;t=this._tileCoordsToBounds(t);return R(this.options.bounds).overlaps(t)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,e=this.getTileSize(),n=t.scaleBy(e),e=n.add(e);return[i.unproject(n,t.z),i.unproject(e,t.z)]},_tileCoordsToBounds:function(t){t=this._tileCoordsToNwSe(t),t=new Z(t[0],t[1]);return t=!this.options.noWrap?this._map.wrapLatLngBounds(t):t},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),t=new k(+i[0],+i[1]);return t.z=+i[2],t},_removeTile:function(t){var i=this._tiles[t];i&&(ti(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){si(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=r,t.onmousemove=r,$&&this.options.opacity<1&&li(t,this.options.opacity),it&&!et&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,i){var e=this._getTilePos(t),n=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),d(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&M(d(this._tileReady,this,t,null,o)),di(o,e),this._tiles[n]={el:o,coords:t,current:!0},i.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,i,e){i&&this.fire("tileerror",{error:i,tile:e,coords:t});var n=this._tileCoordsToKey(t);(e=this._tiles[n])&&(e.loaded=+new Date,this._map._fadeAnimated?(li(e.el,0),C(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(e.active=!0,this._pruneTiles()),i||(si(e.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:e.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new k(this._wrapX?o(t.x,this._wrapX):t.x,this._wrapY?o(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new O(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});var Ze=Ie.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,i){this._url=t,(i=c(this,i)).detectRetina&&Pt&&0<i.maxZoom&&(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom++):(i.zoomOffset++,i.maxZoom--),i.minZoom=Math.max(0,i.minZoom)),"string"==typeof i.subdomains&&(i.subdomains=i.subdomains.split("")),it||this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&void 0===i&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var e=document.createElement("img");return Li(e,"load",d(this._tileOnLoad,this,i,e)),Li(e,"error",d(this._tileOnError,this,i,e)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),e.alt="",e.setAttribute("role","presentation"),e.src=this.getTileUrl(t),e},getTileUrl:function(t){var i={r:Pt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(t=this._globalTileRange.max.y-t.y,this.options.tms&&(i.y=t),i["-y"]=t),f(this._url,h(i,this.options))},_tileOnLoad:function(t,i){$?setTimeout(d(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,e){var n=this.options.errorTileUrl;n&&i.getAttribute("src")!==n&&(i.src=n),t(e,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom;return(t=this.options.zoomReverse?i-t:t)+this.options.zoomOffset},_getSubdomain:function(t){t=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var t,i;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((i=this._tiles[t].el).onload=r,i.onerror=r,i.complete||(i.src=y,ti(i),delete this._tiles[t]))},_removeTile:function(t){var i=this._tiles[t];if(i)return ot||i.el.setAttribute("src",y),Ie.prototype._removeTile.call(this,t)},_tileReady:function(t,i,e){if(this._map&&(!e||e.getAttribute("src")!==y))return Ie.prototype._tileReady.call(this,t,i,e)}});function Re(t,i){return new Ze(t,i)}var Ne=Ze.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var e,n=h({},this.defaultWmsParams);for(e in i)e in this.options||(n[e]=i[e]);var o=(i=c(this,i)).detectRetina&&Pt?2:1,t=this.getTileSize();n.width=t.x*o,n.height=t.y*o,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[i]=this._crs.code,Ze.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),e=this._crs,e=I(e.project(i[0]),e.project(i[1])),i=e.min,e=e.max,e=(1.3<=this._wmsVersion&&this._crs===ae?[i.y,i.x,e.y,e.x]:[i.x,i.y,e.x,e.y]).join(","),t=Ze.prototype.getTileUrl.call(this,t);return t+_(this.wmsParams,t,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+e},setParams:function(t,i){return h(this.wmsParams,t),i||this.redraw(),this}});Ze.WMS=Ne,Re.wms=function(t,i){return new Ne(t,i)};var Ue=re.extend({options:{padding:.1,tolerance:0},initialize:function(t){c(this,t),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&si(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var e=this._map.getZoomScale(i,this._zoom),n=_i(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,i),s=this._map.project(t,i).subtract(s),s=o.multiplyBy(-e).add(n).add(o).subtract(s);mt?ci(this._container,s,e):di(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),e=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new O(e,e.add(i.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),je=Ue.extend({getEvents:function(){var t=Ue.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ue.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Li(t,"mousemove",this._onMouseMove,this),Li(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Li(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,ti(this._container),Pi(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){var t,i,e,n;this._map._animatingZoom&&this._bounds||(Ue.prototype._update.call(this),t=this._bounds,i=this._container,e=t.getSize(),n=Pt?2:1,di(i,t.min),i.width=n*e.x,i.height=n*e.y,i.style.width=e.x+"px",i.style.height=e.y+"px",Pt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update"))},_reset:function(){Ue.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t);t=(this._layers[m(t)]=t)._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,e=i.next,i=i.prev;e?e.prev=i:this._drawLast=i,i?i.next=e:this._drawFirst=e,delete t._order,delete this._layers[m(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){for(var i,e=t.options.dashArray.split(/[, ]+/),n=[],o=0;o<e.length;o++){if(i=Number(e[o]),isNaN(i))return;n.push(i)}t.options._dashArray=n}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(t){var i;t._pxBounds&&(i=(t.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t,i=this._redrawBounds;i?(t=i.getSize(),this._ctx.clearRect(i.min.x,i.min.y,t.x,t.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var t,i,e=this._redrawBounds;this._ctx.save(),e&&(i=e.getSize(),this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()),this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var e,n,o,s,a=t._parts,r=a.length,h=this._ctx;if(r){for(h.beginPath(),e=0;e<r;e++){for(n=0,o=a[e].length;n<o;n++)s=a[e][n],h[n?"lineTo":"moveTo"](s.x,s.y);i&&h.closePath()}this._fillStroke(h,t)}}},_updateCircle:function(t){var i,e,n,o;this._drawing&&!t._empty()&&(i=t._point,e=this._ctx,n=Math.max(Math.round(t._radius),1),1!=(o=(Math.max(Math.round(t._radiusY),1)||n)/n)&&(e.save(),e.scale(1,o)),e.beginPath(),e.arc(i.x,i.y/o,n,0,2*Math.PI,!1),1!=o&&e.restore(),this._fillStroke(e,t))},_fillStroke:function(t,i){var e=i.options;e.fill&&(t.globalAlpha=e.fillOpacity,t.fillStyle=e.fillColor||e.color,t.fill(e.fillRule||"evenodd")),e.stroke&&0!==e.weight&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=e.opacity,t.lineWidth=e.weight,t.strokeStyle=e.color,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.stroke())},_onClick:function(t){for(var i,e,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&&i._containsPoint(n)&&(("click"===t.type||"preclick"!==t.type)&&this._map._draggableMoved(i)||(e=i));e&&(Ii(t),this._fireEvent([e],t))},_onMouseMove:function(t){var i;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(i=this._map.mouseEventToLayerPoint(t),this._handleMouseHover(t,i))},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(ai(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var e,n,o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&(n=e);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(si(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,e){this._map._fireDOMEvent(i,e||i.type,t)},_bringToFront:function(t){var i,e,n=t._order;n&&(i=n.next,e=n.prev,i&&((i.prev=e)?e.next=i:i&&(this._drawFirst=i),n.prev=this._drawLast,(this._drawLast.next=n).next=null,this._drawLast=n,this._requestRedraw(t)))},_bringToBack:function(t){var i,e,n=t._order;n&&(i=n.next,(e=n.prev)&&((e.next=i)?i.prev=e:e&&(this._drawLast=e),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t)))}});function We(t){return bt?new je(t):null}var He=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),nt={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ue.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=He("shape");si(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=He("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;ti(i),t.removeInteractiveTarget(i),delete this._layers[m(t)]},_updateStyle:function(t){var i=t._stroke,e=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(i=i||(t._stroke=He("stroke")),o.appendChild(i),i.weight=n.weight+"px",i.color=n.color,i.opacity=n.opacity,n.dashArray?i.dashStyle=g(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=n.lineCap.replace("butt","flat"),i.joinstyle=n.lineJoin):i&&(o.removeChild(i),t._stroke=null),n.fill?(e=e||(t._fill=He("fill")),o.appendChild(e),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(o.removeChild(e),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),e=Math.round(t._radius),n=Math.round(t._radiusY||e);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+e+","+n+" 0,23592600")},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){ei(t._container)},_bringToBack:function(t){ni(t._container)}},Fe=Mt?He:J,Ve=Ue.extend({getEvents:function(){var t=Ue.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Fe("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fe("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ti(this._container),Pi(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){var t,i,e;this._map._animatingZoom&&this._bounds||(Ue.prototype._update.call(this),i=(t=this._bounds).getSize(),e=this._container,this._svgSize&&this._svgSize.equals(i)||(this._svgSize=i,e.setAttribute("width",i.x),e.setAttribute("height",i.y)),di(e,t.min),e.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update"))},_initPath:function(t){var i=t._path=Fe("path");t.options.className&&si(i,t.options.className),t.options.interactive&&si(i,"leaflet-interactive"),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ti(t._path),t.removeInteractiveTarget(t._path),delete this._layers[m(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,t=t.options;i&&(t.stroke?(i.setAttribute("stroke",t.color),i.setAttribute("stroke-opacity",t.opacity),i.setAttribute("stroke-width",t.weight),i.setAttribute("stroke-linecap",t.lineCap),i.setAttribute("stroke-linejoin",t.lineJoin),t.dashArray?i.setAttribute("stroke-dasharray",t.dashArray):i.removeAttribute("stroke-dasharray"),t.dashOffset?i.setAttribute("stroke-dashoffset",t.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),t.fill?(i.setAttribute("fill",t.fillColor||t.color),i.setAttribute("fill-opacity",t.fillOpacity),i.setAttribute("fill-rule",t.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,K(t._parts,i))},_updateCircle:function(t){var i=t._point,e=Math.max(Math.round(t._radius),1),n="a"+e+","+(Math.max(Math.round(t._radiusY),1)||e)+" 0 1,0 ",e=t._empty()?"M0 0":"M"+(i.x-e)+","+i.y+n+2*e+",0 "+n+2*-e+",0 ";this._setPath(t,e)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){ei(t._path)},_bringToBack:function(t){ni(t._path)}});function Ge(t){return Tt||Mt?new Ve(t):null}Mt&&Ve.include(nt),Ui.include({getRenderer:function(t){t=(t=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer());return this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var i=this._paneRenderers[t];return void 0===i&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&We(t)||Ge(t)}});var qe=ve.extend({initialize:function(t,i){ve.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=R(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Ve.create=Fe,Ve.pointsToPath=K,ye.geometryToLayer=Le,ye.coordsToLatLng=Pe,ye.coordsToLatLngs=we,ye.latLngToCoords=be,ye.latLngsToCoords=Te,ye.getFeature=Me,ye.asFeature=Ce,Ui.mergeOptions({boxZoom:!0});z=pt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Li(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pi(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ti(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Ft(),pi(),this._startPoint=this._map.mouseEventToContainerPoint(t),Li(document,{contextmenu:Di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),si(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new O(this._point,this._startPoint),t=i.getSize();di(this._box,i.min),this._box.style.width=t.x+"px",this._box.style.height=t.y+"px"},_finish:function(){this._moved&&(ti(this._box),ai(this._container,"leaflet-crosshair")),Vt(),mi(),Pi(document,{contextmenu:Di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){1!==t.which&&1!==t.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0),t=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})))},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ui.addInitHook("addHandler","boxZoom",z),Ui.mergeOptions({doubleClickZoom:!0});G=pt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,e=i.getZoom(),n=i.options.zoomDelta,n=t.originalEvent.shiftKey?e-n:e+n;"center"===i.options.doubleClickZoom?i.setZoom(n):i.setZoomAround(t.containerPoint,n)}});Ui.addInitHook("addHandler","doubleClickZoom",G),Ui.mergeOptions({dragging:!0,inertia:!et,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});q=pt.extend({addHooks:function(){var t;this._draggable||(t=this._map,this._draggable=new Yi(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))),si(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ai(this._map._container,"leaflet-grab"),ai(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t,i=this._map;i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(t=R(this._map.options.maxBounds),this._offsetLimit=I(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){var i,e;this._map.options.inertia&&(i=this._lastTime=+new Date,e=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(e),this._times.push(i),this._prunePositions(i)),this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){var t,i;this._viscosity&&this._offsetLimit&&(t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit,t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t))},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),e=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-i+e)%t+i-e,i=(n+i+e)%t-i-e,i=Math.abs(o+e)<Math.abs(i+e)?o:i;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=i},_onDragEnd:function(t){var i,e,n,o,s=this._map,a=s.options,r=!a.inertia||this._times.length<2;s.fire("dragend",t),r?s.fire("moveend"):(this._prunePositions(+new Date),e=this._lastPos.subtract(this._positions[0]),t=(this._lastTime-this._times[0])/1e3,i=a.easeLinearity,e=(r=e.multiplyBy(i/t)).distanceTo([0,0]),t=Math.min(a.inertiaMaxSpeed,e),e=r.multiplyBy(t/e),n=t/(a.inertiaDeceleration*i),(o=e.multiplyBy(-n/2).round()).x||o.y?(o=s._limitOffset(o,s.options.maxBounds),M(function(){s.panBy(o,{duration:n,easeLinearity:i,noMoveStart:!0,animate:!0})})):s.fire("moveend"))}});Ui.addInitHook("addHandler","dragging",q),Ui.mergeOptions({keyboard:!0,keyboardPanDelta:80});H=pt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Li(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pi(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var t,i,e;this._focused||(t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,e=t.scrollLeft||e.scrollLeft,this._map._container.focus(),window.scrollTo(e,i))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){for(var i=this._panKeys={},e=this.keyCodes,n=0,o=e.left.length;n<o;n++)i[e.left[n]]=[-1*t,0];for(n=0,o=e.right.length;n<o;n++)i[e.right[n]]=[t,0];for(n=0,o=e.down.length;n<o;n++)i[e.down[n]]=[0,t];for(n=0,o=e.up.length;n<o;n++)i[e.up[n]]=[0,-1*t]},_setZoomDelta:function(t){for(var i=this._zoomKeys={},e=this.keyCodes,n=0,o=e.zoomIn.length;n<o;n++)i[e.zoomIn[n]]=t;for(n=0,o=e.zoomOut.length;n<o;n++)i[e.zoomOut[n]]=-t},_addHooks:function(){Li(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pi(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i,e=t.keyCode,n=this._map;if(e in this._panKeys)n._panAnim&&n._panAnim._inProgress||(i=this._panKeys[e],t.shiftKey&&(i=A(i).multiplyBy(3)),n.panBy(i),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds));else if(e in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else{if(27!==e||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}Di(t)}}});Ui.addInitHook("addHandler","keyboard",H),Ui.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});ct=pt.extend({addHooks:function(){Li(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pi(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=Ai(t),e=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);e=Math.max(e-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),e),Di(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),e=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),n=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,n=e?Math.ceil(n/e)*e:n,n=t._limitZoom(i+(0<this._delta?n:-n))-i;this._delta=0,this._startTime=null,n&&("center"===t.options.scrollWheelZoom?t.setZoom(i+n):t.setZoomAround(this._lastMousePos,i+n))}});Ui.addInitHook("addHandler","scrollWheelZoom",ct),Ui.mergeOptions({tap:!0,tapTolerance:15});ft=pt.extend({addHooks:function(){Li(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pi(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(zi(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],t=i.target;this._startPos=this._newPos=new k(i.clientX,i.clientY),t.tagName&&"a"===t.tagName.toLowerCase()&&si(t,"leaflet-active"),this._holdTimeout=setTimeout(d(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),this._simulateEvent("mousedown",i),Li(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){var i;clearTimeout(this._holdTimeout),Pi(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches&&((t=(i=t.changedTouches[0]).target)&&t.tagName&&"a"===t.tagName.toLowerCase()&&ai(t,"leaflet-active"),this._simulateEvent("mouseup",i),this._isTapValid()&&this._simulateEvent("click",i))},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){t=t.touches[0];this._newPos=new k(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(t,i){var e=document.createEvent("MouseEvents");e._simulated=!0,i.target._simulatedClick=!0,e.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(e)}});!Lt||yt&&!ht||Ui.addInitHook("addHandler","tap",ft),Ui.mergeOptions({touchZoom:Lt&&!et,bounceAtZoomLimits:!0});nt=pt.extend({addHooks:function(){si(this._map._container,"leaflet-touch-zoom"),Li(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ai(this._map._container,"leaflet-touch-zoom"),Pi(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i,e,n=this._map;!t.touches||2!==t.touches.length||n._animatingZoom||this._zooming||(i=n.mouseEventToContainerPoint(t.touches[0]),e=n.mouseEventToContainerPoint(t.touches[1]),this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),"center"!==n.options.touchZoom&&(this._pinchStartLatLng=n.containerPointToLatLng(i.add(e)._divideBy(2))),this._startDist=i.distanceTo(e),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),Li(document,"touchmove",this._onTouchMove,this),Li(document,"touchend",this._onTouchEnd,this),zi(t))},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var i=this._map,e=i.mouseEventToContainerPoint(t.touches[0]),n=i.mouseEventToContainerPoint(t.touches[1]),o=e.distanceTo(n)/this._startDist;if(this._zoom=i.getScaleZoom(o,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&o<1||this._zoom>i.getMaxZoom()&&1<o)&&(this._zoom=i._limitZoom(this._zoom)),"center"===i.options.touchZoom){if(this._center=this._startLatLng,1==o)return}else{n=e._add(n)._divideBy(2)._subtract(this._centerPoint);if(1==o&&0===n.x&&0===n.y)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(n),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),C(this._animRequest);i=d(i._move,i,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=M(i,this,!0),zi(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),Pi(document,"touchmove",this._onTouchMove,this),Pi(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ui.addInitHook("addHandler","touchZoom",nt),Ui.BoxZoom=z,Ui.DoubleClickZoom=G,Ui.Drag=q,Ui.Keyboard=H,Ui.ScrollWheelZoom=ct,Ui.Tap=ft,Ui.TouchZoom=nt,t.version="1.7.1",t.Control=ji,t.control=_t,t.Browser=st,t.Evented=D,t.Mixin=gt,t.Util=E,t.Class=S,t.Handler=pt,t.extend=h,t.bind=d,t.stamp=m,t.setOptions=c,t.DomEvent=ut,t.DomUtil=lt,t.PosAnimation=Ni,t.Draggable=Yi,t.LineUtil=vt,t.PolyUtil=Y,t.Point=k,t.point=A,t.Bounds=O,t.bounds=I,t.Transformation=F,t.transformation=V,t.Projection=at,t.LatLng=N,t.latLng=U,t.LatLngBounds=Z,t.latLngBounds=R,t.CRS=j,t.GeoJSON=ye,t.geoJSON=Ee,t.geoJson=rt,t.Layer=re,t.LayerGroup=he,t.layerGroup=function(t,i){return new he(t,i)},t.FeatureGroup=le,t.featureGroup=function(t,i){return new le(t,i)},t.ImageOverlay=Se,t.imageOverlay=function(t,i,e){return new Se(t,i,e)},t.VideoOverlay=ze,t.videoOverlay=function(t,i,e){return new ze(t,i,e)},t.SVGOverlay=De,t.svgOverlay=function(t,i,e){return new De(t,i,e)},t.DivOverlay=ke,t.Popup=Be,t.popup=function(t,i){return new Be(t,i)},t.Tooltip=Ae,t.tooltip=function(t,i){return new Ae(t,i)},t.Icon=ue,t.icon=function(t){return new ue(t)},t.DivIcon=Oe,t.divIcon=function(t){return new Oe(t)},t.Marker=_e,t.marker=function(t,i){return new _e(t,i)},t.TileLayer=Ze,t.tileLayer=Re,t.GridLayer=Ie,t.gridLayer=function(t){return new Ie(t)},t.SVG=Ve,t.svg=Ge,t.Renderer=Ue,t.Canvas=je,t.canvas=We,t.Path=pe,t.CircleMarker=me,t.circleMarker=function(t,i){return new me(t,i)},t.Circle=fe,t.circle=function(t,i,e){return new fe(t,i,e)},t.Polyline=ge,t.polyline=function(t,i){return new ge(t,i)},t.Polygon=ve,t.polygon=function(t,i){return new ve(t,i)},t.Rectangle=qe,t.rectangle=function(t,i){return new qe(t,i)},t.Map=Ui,t.map=function(t,i){return new Ui(t,i)};var Je=window.L;t.noConflict=function(){return window.L=Je,this},window.L=t},"object"==typeof e&&void 0!==i?o(e):"function"==typeof define&&define.amd?define(["exports"],o):o(n.L={})},{}],5:[function(t,i,e){var n=t("leaflet"),o=t("leaflet-iconlayers"),s=t("leaflet-minimap");var a,r,h=(a=window.innerWidth,r=window.innerHeight,!(a<600||r<600)),l=n.map("map",{scrollWheelZoom:!0,zoomControl:!1,center:[48,70],zoom:6}),u=new n.TileLayer("//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{minZoom:1,maxZoom:20,attribution:'Map data © <a href="http://openstreetmap.org">OpenStreetMap FR</a> contributors'}),c=new n.TileLayer("https://m1.mapserver.mapy.cz/base-m/{z}-{x}-{y}",{minZoom:1,maxZoom:20,attribution:'Map data © <a href="http://openstreetmap.org">OpenStreetMap CZ</a> contributors'}),d=n.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'OSM Mapnik <a href="http://www.openstreetmap.org/copyright">OpenStreetMap ORG</a>'}),_=(n.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",{maxZoom:13,attribution:'Map data © <a href="http://esri.com">OpenStreetMap</a>',opacity:.4}),u),t="style/images/layerIcons/";o([{title:"<span class='bmBaseMap'>OSM Org</span>",layer:d,icon:t+"Mapnik.png"},{title:"<span class='bmBaseMap'>OSM France</span>",layer:u,icon:t+"osmFR.png"},{title:"<span class='bmBaseMap'>OSM Czech Republic</span>",layer:c,icon:t+"osmFR.png"}],{position:"topright",maxLayersInRow:4}).addTo(l);t=h?-6:-5;new s(new n.TileLayer("//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{}),{toggleDisplay:!0,width:150,height:100,minimized:!h,aimingRectOptions:{color:"#FF0000"},zoomLevelOffset:t}).addTo(l),l.setView([46.83,-71.25],12),_.addTo(l)},{leaflet:4,"leaflet-iconlayers":1,"leaflet-minimap":3}]},{},[5]);