var A=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var b=(i,e,t)=>(A(i,e,"read from private field"),t?t.call(i):e.get(i)),m=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},p=(i,e,t,n)=>(A(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t);import{$ as c}from"./vendor.62917bef.js";const D=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}};D();function q(i,e){var t;i.addEventListener("input",function(s){var a,u,h,L=this.value;if(r(),!L)return!1;for(t=-1,a=document.createElement("DIV"),a.setAttribute("id",this.id+"autocomplete-list"),a.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(a),h=0;h<e.length;h++){var y=e[h].toUpperCase().indexOf(L.toUpperCase());if(y!=-1){u=document.createElement("DIV");var z=new RegExp(L,"i");u.innerHTML=e[h].replace(z,"<strong>"+L+"</strong>"),u.innerHTML+='<input type="hidden" value="'+e[h]+'">',u.addEventListener("click",function(E){i.value=this.getElementsByTagName("input")[0].value,r();let g=new Event("change");i.dispatchEvent(g)}),a.appendChild(u)}}}),i.addEventListener("keydown",function(s){var a=document.getElementById(this.id+"autocomplete-list");a&&(a=a.getElementsByTagName("div")),s.keyCode==40?(t++,n(a)):s.keyCode==38?(t--,n(a)):s.keyCode==13&&(s.preventDefault(),t>-1&&a&&a[t].click())});function n(s){if(!s)return!1;o(s),t>=s.length&&(t=0),t<0&&(t=s.length-1),s[t].classList.add("autocomplete-active")}function o(s){for(var a=0;a<s.length;a++)s[a].classList.remove("autocomplete-active")}function r(s){for(var a=document.getElementsByClassName("autocomplete-items"),u=0;u<a.length;u++)s!=a[u]&&s!=i&&a[u].parentNode.removeChild(a[u])}document.addEventListener("click",function(s){r(s.target)})}var S;class F{constructor(e){m(this,S,void 0);p(this,S,new Map(e))}addLang(e,t){b(this,S).set(e,t)}Label(e){return b(this,S).get(e)}}S=new WeakMap;var U,O;class J{constructor(e){m(this,U,"FR");m(this,O,void 0);this.SupportedLanguages=[],p(this,O,new Map);for(var t=0;t<e.length;t++)this.SupportedLanguages.push(e[t].toUpperCase());this.SupportedLanguages.length>0&&p(this,U,this.SupportedLanguages[0]),this.CurLang=this.UserLang}get UserLang(){for(var e=navigator.language.split("-")[0].toUpperCase(),t=b(this,U),n=0;n<this.SupportedLanguages.length;n++)this.SupportedLanguages[n]==e&&(t=e);return t}setCurlang(e){this.CurLang=e}addLabel(e,t){b(this,O).set(e,t)}getLabel(e){var t=b(this,O).get(e);if(t!=null){let n=t.Label(this.CurLang);return n==null&&(n=t.Label(b(this,U))),n}}}U=new WeakMap,O=new WeakMap;class V{constructor(e,t){this.UnitSymbol=t,this.SizeInMeter=e}getUnitSymbol(e){return this.UnitSymbol.Label(e)}}class K{constructor(){this.UnitList=[]}addUnit(e,t){let n=new V(e,t);this.UnitList.push(n)}getBestUnit(e){for(var t=this.UnitList[0],n=0;n<this.UnitList.length;n++)Math.log10(this.UnitList[n].SizeInMeter)<=Math.log10(e)&&(t=this.UnitList[n]);return t}sortBySize(){this.UnitList.sort(function(e,t){return e.SizeInMeter<t.SizeInMeter?-1:e.SizeInMeter>t.SizeInMeter?1:0})}}var j,N;class _{constructor(e,t){m(this,j,void 0);m(this,N,void 0);var n=new F([["FR",e.ObjectFr],["EN",e.ObjectEn]]);p(this,N,n),this.SizeInMeter=e.SizeInMeter,this.URL=e.URL,p(this,j,t.getBestUnit(this.SizeInMeter)),this.SizeInUnit=this.SizeInMeter/b(this,j).SizeInMeter}getObjectName(e){return b(this,N).Label(e)}getUnitSymbol(e){return b(this,j).getUnitSymbol(e)}}j=new WeakMap,N=new WeakMap;class ${constructor(e){this.ObjectList=[],this.Units=e}addObject(e){var t=new _(e,this.Units);this.ObjectList.push(t)}sortBySize(){this.ObjectList.sort(function(e,t){return e.SizeInMeter<t.SizeInMeter?-1:e.SizeInMeter>t.SizeInMeter?1:0})}sortByName(e){this.ObjectList.sort(function(t,n){var o=t.getObjectName(e).toUpperCase(),r=n.getObjectName(e).toUpperCase();return o<r?-1:o>r?1:0})}getObjectByName(e,t){for(var n=-1,o,r=0;r<this.ObjectList.length;r++)o=this.ObjectList[r].getObjectName(t),o==e&&(n=r);return n!=-1?this.ObjectList[n]:null}getObjectBySize(e){var n=e*.9,o=e*(1+.1),r,s,a;for(r=0;r<this.ObjectList.length;r++)s=this.ObjectList[r],s.SizeInMeter>=n&&s.SizeInMeter<=o&&(a=s);return a}getNameList(e){var t=[];this.sortByName(e);for(var n=0;n<this.ObjectList.length;n++)t.push(this.ObjectList[n].getObjectName(e));return t}}function G(i,e){return c.getJSON(e,function(t){c.each(t.ObjectList,function(){i.addObject(this)})})}function Q(i,e){return c.getJSON(e,function(t){c.each(t.Labels,function(){var n=new F([["EN",this.LabelEn],["FR",this.LabelFr]]);i.addLabel(this.id,n)})})}function W(i,e){return c.getJSON(e,function(t){c.each(t.Units,function(){var n=new F([["FR",this.UnitSymbolFr],["EN",this.UnitSymbolEn]]);i.addUnit(this.SizeInMeter,n)})})}const X="./Objects.JSON",Y="./i18n.JSON",Z="./Units.JSON";var R=new K,d=new J(["EN","FR"]),f,ee=W(R,Z);function x(){f.sortBySize();var i=c("#obj1").val(),e=c("#obj2").val(),t,o,n,o,r,s,a,u,h,L,y,z,E,g,I,l,I,B,v=d.CurLang;if(i!=""&e!=""){let P=f.getObjectByName(i,v),T=f.getObjectByName(e,v);if(P!=null&&T!=null){var M=T.SizeInMeter/P.SizeInMeter;M<1?o="\u{1F817}  1 : "+(1/M).toPrecision(4):o="\u{1F815}  "+M.toPrecision(4)+" : 1",c("#fldRatio").text(o),c("tbody").remove();for(var C="<tr><td data-label='"+d.getLabel(6)+"'><a href='%ur' target='_blank'>%na</a></td><td data-label='"+d.getLabel(9)+"'>%m</td><td data-label='"+d.getLabel(7)+"'>%si</td><td data-label='"+d.getLabel(8)+"'>%sc</td><td data-label='"+d.getLabel(10)+"'>%on</td></tr>",w="scMicro",k="",t=0;t<f.ObjectList.length;t++)a=f.ObjectList[t],n=a.getObjectName(v),r=a.SizeInMeter,s=a.getUnitSymbol(v),u=a.SizeInUnit,h=a.URL,L=r*M,y=f.Units.getBestUnit(L),z=y.getUnitSymbol(v),E=L/y.SizeInMeter,r<=1e-4?g="scMicro":r<=100?g="scHuman":r<=12e6?g="scTravel":r<=1e10?g="scPlanet":r<=1e13?g="scSolar":g="scCosmic",t==0?l="<tbody class='"+w+"'>"+C:g!=w?(l="</tbody><tbody class='"+g+"'>"+C,w=g):l=C,B=f.getObjectBySize(L),B!=null?I=B.getObjectName(v):I="",l=l.replace("%na",n),l=l.replace("%si",u.toPrecision(4)+" "+s),l=l.replace("%sc",E.toPrecision(4)+" "+z),l=l.replace("%ur",h),l=l.replace("%m",r.toPrecision(4)+" m"),l=l.replace("%cl",g),l=l.replace("%on",I),t+1==f.length&&(l+="</tbody>"),k+=l;c("tfoot").before(k)}}}function H(){d.CurLang=c("#lang").val();var i=d.CurLang,e;e=f.getNameList(i),c(function(){q(document.getElementById("obj1"),e),q(document.getElementById("obj2"),e)}),c("[data-label-id]").each(function(){var t=parseInt(c(this).attr("data-label-id")),n=d.getLabel(t);c(this).text(n)})}function te(){for(var i=0;i<d.SupportedLanguages.length;i++){var e=d.SupportedLanguages[i],t="<option value='"+e+"'>"+e+"</option>";c("#lang").append(t)}c("#lang").val(d.CurLang)}ee.done(function(){R.sortBySize();var i=Q(d,Y);i.done(function(){f=new $(R);var e=G(f,X);e.done(function(){te(),H(),c("#lang").on("change",function(){H()}),document.getElementById("obj1").addEventListener("change",x),document.getElementById("obj2").addEventListener("change",x)})})});
